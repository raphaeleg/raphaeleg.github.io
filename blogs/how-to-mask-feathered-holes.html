<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/3534416bbfdcc9be-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/a34f9d1faa5f3315-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/blogs/luminth-1.png" fetchPriority="high"/><link rel="stylesheet" href="/_next/static/css/881764d7315ebb41.css" crossorigin="" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-87946f1c662425a2.js" as="script" fetchPriority="low" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-be4284c6839b84b2.js" async="" crossorigin=""></script><script src="/_next/static/chunks/864-2f812e0173dd607b.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-e31e86e6f48efc8c.js" async="" crossorigin=""></script><title>How to: Mask Feathered Holes in Images, Unity (Part 1) | Raphaele&#x27;s Portfolio</title><link rel="manifest" href="/manifest.webmanifest"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, noimageindex, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><meta property="og:title" content="How to: Mask Feathered Holes in Images, Unity (Part 1)"/><meta property="og:url" content="https://raphaeleg.github.io/blogs/how-to-mask-feathered-holes"/><meta property="og:site_name" content="Raphaele&#x27;s Portfolio"/><meta property="og:locale" content="en-us"/><meta property="og:image" content="https://raphaeleg.github.io/blogs/luminth-1.png"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2024-05-19T00:00:00.000Z"/><meta property="article:modified_time" content="2024-05-19T00:00:00.000Z"/><meta property="article:author" content="Raphaele&#x27;s Portfolio"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="How to: Mask Feathered Holes in Images, Unity (Part 1)"/><meta name="twitter:image" content="https://raphaeleg.github.io/blogs/luminth-1.png"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="__variable_36bd41 __variable_da1155 font-mr bg-light"><header class="sticky z-20 w-full top-0 left-0 p-4 px-10 flex items-center bg-light-50 sm:bg-light/100 justify-between backdrop-blur-sm" style="height:auto;width:100%;position:flex"><a href="/"><p class="text-sm md:text-lg lg:text-lg"><b>Raphaele G.</b></p></a><button class="inline-block sm:hidden z-50 absolute top-6 right-10" aria-label="Hamburger Menu"><div class="w-6 cursor-pointer transition-all ease duration-300"><div class="relative"><span class="absolute top-0 inline-block w-full h-0.5 bg-dark rounded transition-all ease duration-200" style="transform:rotate(0deg) translateY(6px)"> </span><span class="absolute top-0 inline-block w-full h-0.5 bg-dark rounded transition-all ease duration-200" style="opacity:1"> </span><span class="absolute top-0 inline-block w-full h-0.5 bg-dark rounded transition-all ease duration-200" style="transform:rotate(0deg) translateY(-6px)"> </span></div></div></button><nav class="text-center justify-center z-20 flex flex-col absolute sm:hidden w-full h-full font-medium capitalize items-end transition-all ease duration-300" style="right:-50rem"><a class="w-full py-5" href="/">Home</a><a class="w-full py-5" href="/categories/game">Projects</a><a class="w-full py-5" href="/categories/all">Blog</a><div href="" class="w-full py-5">Contact</div><a class="w-full py-5" target="_blank" href="/Raphaele-Michelle-Guillemot-Resume.pdf">Resume</a></nav><nav class="hidden sm:flex w-max py-3 px-8 font-medium capitalize items-end"><a class="mx-4" href="/categories/game">Projects</a><a class="mx-4" href="/categories/all">Blog</a><div href="" class="mx-4 cursor-pointer">Contact</div><a target="_blank" class="mx-4" href="/Raphaele-Michelle-Guillemot-Resume.pdf">Resume</a></nav></header><script type="application/ld+json">{"@context":"https://schema.org","@type":"NewsArticle","headline":"How to: Mask Feathered Holes in Images, Unity (Part 1)","image":["https://raphaeleg.github.io/blogs/luminth-1.png"],"datePublished":"2024-05-19T00:00:00.000Z","dateModified":"2024-05-19T00:00:00.000Z","author":[{"@type":"Person","name":"Raphaele's Portfolio","url":"https://www.linkedin.com/in/raphaele-michelle-guillemot-6a34271a8/"}]}</script><article><div class="mb-8 text-center relative w-full h-[50vh] bg-dark"><div class="w-5/6 z-10 flex flex-col items-center justify-center absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"><span><a target="" class="my-4 mr-4 inline-block py-2 sm:py-3 px-6 sm:px-10 border-accent rounded-full capitalize font-semibold hover:scale-105 transition-all ease duration-200 text-sm sm:text-base bg-accent text-light px-6 mx-2 text-sm py-2" href="/categories/shader-hlsl">#shader hlsl</a><a target="" class="my-4 mr-4 inline-block py-2 sm:py-3 px-6 sm:px-10 border-accent rounded-full capitalize font-semibold hover:scale-105 transition-all ease duration-200 text-sm sm:text-base bg-accent text-light px-6 mx-2 text-sm py-2" href="/categories/unity">#unity</a><a target="" class="my-4 mr-4 inline-block py-2 sm:py-3 px-6 sm:px-10 border-accent rounded-full capitalize font-semibold hover:scale-105 transition-all ease duration-200 text-sm sm:text-base bg-accent text-light px-6 mx-2 text-sm py-2" href="/categories/csharp">#csharp</a><a target="" class="my-4 mr-4 inline-block py-2 sm:py-3 px-6 sm:px-10 border-accent rounded-full capitalize font-semibold hover:scale-105 transition-all ease duration-200 text-sm sm:text-base bg-accent text-light px-6 mx-2 text-sm py-2" href="/categories/experiment">#experiment</a><a target="" class="my-4 mr-4 inline-block py-2 sm:py-3 px-6 sm:px-10 border-accent rounded-full capitalize font-semibold hover:scale-105 transition-all ease duration-200 text-sm sm:text-base bg-accent text-light px-6 mx-2 text-sm py-2" href="/categories/solo">#solo</a></span><h1 class="inline-block mt-6 font-semibold capitalize text-light text-2xl md:text-3xl lg:text-5xl !leading-normal relative">How to: Mask Feathered Holes in Images, Unity (Part 1)</h1></div><div class="absolute top-0 left-0 right-0 bottom-0 h-full bg-dark/60"></div><img alt="How to: Mask Feathered Holes in Images, Unity (Part 1)" fetchPriority="high" width="1430" height="800" decoding="async" data-nimg="1" class="w-full h-full object-cover object-center false [object Object]" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 1430 800&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAXVBMVEXArZafjYSllotRQmxuX2xtU1rKuJ6un5bPv6bd0bhxW2bn28JaMD1TPlhbSl9oUWG5pY+5p5SShpeskXq5nH9zaXK3pI6Qcmnw5MfIwrqxpqPSw6vCua1mSlN6UkbCajQlAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARElEQVR4nBXHRRLAMAwEsA04toNlbv//zE50EyAi3IrDrfq0N2YYe1xE/sOGdHqqFapJ2ReHMfBul5kBxLwGEWAwU+8PZwsCm/8T5zoAAAAASUVORK5CYII=&#x27;/%3E%3C/svg%3E&quot;)" src="/blogs/luminth-1.png"/></div><div class="grid grid-cols-12  gap-y-8 lg:gap-8 sxl:gap-16 mt-8 px-5 md:px-10"><div class="col-span-12  lg:col-span-4"><details class="border-[1px] border-solid border-dark  text-dark  rounded-lg p-4 sticky top-6 max-h-[80vh] overflow-hidden overflow-y-auto" open=""><summary class="text-lg font-semibold capitalize cursor-pointer">Table Of Content</summary><ul class="mt-4 font-in text-base"><li class="py-1"><a href="#primitive-solution" data-level="one" class="data-[level=two]:pl-0  data-[level=two]:pt-2 data-[level=two]:border-t border-solid border-dark/40 data-[level=three]:pl-4 sm:data-[level=three]:pl-6 flex items-center justify-start "><span class="hover:underline">Primitive Solution</span></a></li><li class="py-1"><a href="#polished-solution" data-level="one" class="data-[level=two]:pl-0  data-[level=two]:pt-2 data-[level=two]:border-t border-solid border-dark/40 data-[level=three]:pl-4 sm:data-[level=three]:pl-6 flex items-center justify-start "><span class="hover:underline">Polished Solution</span></a></li><li class="py-1"><a href="#1-draw-a-transparent-soft-circle-on-texture" data-level="three" class="data-[level=two]:pl-0  data-[level=two]:pt-2 data-[level=two]:border-t border-solid border-dark/40 data-[level=three]:pl-4 sm:data-[level=three]:pl-6 flex items-center justify-start "><span class="flex w-1 h-1 rounded-full bg-dark mr-2"> </span><span class="hover:underline">1. Draw a transparent, soft circle on texture.</span></a></li><li class="py-1"><a href="#2-dynamically-draw-a-circle" data-level="three" class="data-[level=two]:pl-0  data-[level=two]:pt-2 data-[level=two]:border-t border-solid border-dark/40 data-[level=three]:pl-4 sm:data-[level=three]:pl-6 flex items-center justify-start "><span class="flex w-1 h-1 rounded-full bg-dark mr-2"> </span><span class="hover:underline">2. Dynamically draw a circle</span></a></li><li class="py-1"><a href="#3-world-coordinates-to-uv-coordinates" data-level="three" class="data-[level=two]:pl-0  data-[level=two]:pt-2 data-[level=two]:border-t border-solid border-dark/40 data-[level=three]:pl-4 sm:data-[level=three]:pl-6 flex items-center justify-start "><span class="flex w-1 h-1 rounded-full bg-dark mr-2"> </span><span class="hover:underline">3. World Coordinates to UV Coordinates</span></a></li></ul></details></div><div class="col-span-12 lg:col-span-8 font-in prose sm:prose-base md:prose-lg max-w-max mb-16 prose-blockquote:bg-accent/20  prose-blockquote:p-2 prose-blockquote:px-6 prose-blockquote:border-accent prose-blockquote:not-italic prose-blockquote:rounded-r-lg  prose-li:marker:text-accent  prose-h1:mt-16  first-letter:text-3xl sm:first-letter:text-5xl "><p>A huge mechanic of Luminth was the uncovering of the maze through lights. However, Unity doesn&#x27;t have a built-in function to create transparent circles, needing technical expertise.</p>
<h1 id="primitive-solution">Primitive Solution<a aria-hidden="true" tabindex="-1" href="#primitive-solution"><span class="icon icon-link"></span></a></h1>
<p>Within 72 hours, the best solution was using the <strong>stencil buffer</strong>, to reject pixels on the cloud texture based on a circle image attached with the light.</p>
<img alt="timeline" loading="lazy" width="500" height="500" decoding="async" data-nimg="1" style="color:transparent" src="/blogs/luminth-2.png"/>
<p>This worked using two stencil buffer materials. The first one passing a ref of 1 with no color, and the second checks if the stencil buffer is not equal to 1 to draw. This was initially done with regular materials since it was a 2D image, but it can be replicated with ShaderLab.</p>
<div data-rehype-pretty-code-fragment=""><div data-rehype-pretty-code-title="" data-language="hlsl" data-theme="default">Mask.shader</div><pre style="background-color:#232136" tabindex="0" data-language="hlsl" data-theme="default"><code data-language="hlsl" data-theme="default"><span data-line=""><span style="color:#E0DEF4">...</span></span>
<span data-line=""><span style="color:#E0DEF4">Stencil {</span></span>
<span data-line=""><span style="color:#E0DEF4">	Ref </span><span style="color:#EA9A97">1</span></span>
<span data-line=""><span style="color:#E0DEF4">	Comp </span><span style="color:#F6C177">Always</span></span>
<span data-line=""><span style="color:#E0DEF4">	Pass </span><span style="color:#F6C177">Replace</span></span>
<span data-line=""><span style="color:#E0DEF4">}</span></span>
<span data-line=""><span style="color:#E0DEF4">ColorMask </span><span style="color:#EA9A97">0</span></span>
<span data-line=""><span style="color:#E0DEF4">...</span></span></code></pre><div data-rehype-pretty-code-caption="" data-language="hlsl" data-theme="default">Always write 1 for the entirety of this object</div></div>
<div data-rehype-pretty-code-fragment=""><div data-rehype-pretty-code-title="" data-language="hlsl" data-theme="default">Obj.shader</div><pre style="background-color:#232136" tabindex="0" data-language="hlsl" data-theme="default"><code data-language="hlsl" data-theme="default"><span data-line=""><span style="color:#E0DEF4">...</span></span>
<span data-line=""><span style="color:#E0DEF4">Stencil {</span></span>
<span data-line=""><span style="color:#E0DEF4">	Ref </span><span style="color:#EA9A97">1</span></span>
<span data-line=""><span style="color:#E0DEF4">	Comp NotEqual</span></span>
<span data-line=""><span style="color:#E0DEF4">	Pass </span><span style="color:#F6C177">Keep</span></span>
<span data-line=""><span style="color:#E0DEF4">}</span></span>
<span data-line=""><span style="color:#E0DEF4">...</span></span></code></pre><div data-rehype-pretty-code-caption="" data-language="hlsl" data-theme="default">If the stencil buffer is not equal to 1, keep the original value</div></div>
<p>Benefits:</p>
<ul>
<li>Easy to implement</li>
<li>Easy to use with any GameObject</li>
</ul>
<p>Disadvantages:</p>
<ul>
<li>The edges are too harsh for the intended effect.</li>
</ul>
<p>We can&#x27;t get any further with stencil / masking as it only holds integers (not floating points). It literally <strong>accept or reject pixels</strong>.</p>
<h1 id="polished-solution">Polished Solution<a aria-hidden="true" tabindex="-1" href="#polished-solution"><span class="icon icon-link"></span></a></h1>
<p>There exist many solutions based on seeing players through walls, but the applications are mainly 3D, and uses ShaderGraph from URP. Let&#x27;s look at how we can write a solution based in HLSL.</p>
<img alt="timeline" loading="lazy" width="500" height="500" decoding="async" data-nimg="1" style="color:transparent" src="/blogs/luminth-1.png"/>
<h3 id="1-draw-a-transparent-soft-circle-on-texture">1. Draw a transparent, soft circle on texture.<a aria-hidden="true" tabindex="-1" href="#1-draw-a-transparent-soft-circle-on-texture"><span class="icon icon-link"></span></a></h3>
<div data-rehype-pretty-code-fragment=""><div data-rehype-pretty-code-title="" data-language="hlsl" data-theme="default">Clouds.shader</div><pre style="background-color:#232136" tabindex="0" data-language="hlsl" data-theme="default"><code data-language="hlsl" data-theme="default"><span data-line=""><span style="color:#E0DEF4">Tags { RenderType = Transparent, Queue = Transparent }</span></span>
<span data-line=""><span style="color:#E0DEF4">Blend SrcAlpha OneMinusAlpha</span></span></code></pre><div data-rehype-pretty-code-caption="" data-language="hlsl" data-theme="default">1.1. SubShader Characteristics</div></div>
<div data-rehype-pretty-code-fragment=""><div data-rehype-pretty-code-title="" data-language="hlsl" data-theme="default">Clouds.shader</div><pre style="background-color:#232136" tabindex="0" data-language="hlsl" data-theme="default"><code data-language="hlsl" data-theme="default"><span data-line=""><span style="color:#3E8FB0">void</span><span style="color:#E0DEF4"> </span><span style="color:#EB6F92;font-style:italic">drawCircle</span><span style="color:#E0DEF4">(</span><span style="color:#3E8FB0">in</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">float2</span><span style="color:#E0DEF4"> uv, </span><span style="color:#3E8FB0">in</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">float2</span><span style="color:#E0DEF4"> center, </span><span style="color:#3E8FB0">in</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">float</span><span style="color:#E0DEF4"> radius, </span><span style="color:#3E8FB0">in</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">float</span><span style="color:#E0DEF4"> smooth, </span><span style="color:#3E8FB0">out</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">float</span><span style="color:#E0DEF4"> output) {</span></span>
<span data-line=""><span style="color:#E0DEF4">	</span><span style="color:#6E6A86;font-style:italic">// Using Signed Distance from the center</span></span>
<span data-line=""><span style="color:#E0DEF4">	</span><span style="color:#3E8FB0">float</span><span style="color:#E0DEF4"> sqrDistance = (uv.x - center.x) * (uv.x - center.x) + (uv.y - center.y) * (uv.y - center.y);</span></span>
<span data-line=""><span style="color:#E0DEF4">	</span><span style="color:#3E8FB0">float</span><span style="color:#E0DEF4"> sqrRadius = radius * radius;</span></span>
<span data-line=""><span style="color:#E0DEF4">	</span><span style="color:#3E8FB0">if</span><span style="color:#E0DEF4"> (sqrDistance &lt; radius) {</span></span>
<span data-line=""><span style="color:#E0DEF4">		output = </span><span style="color:#EB6F92;font-style:italic">smoothstep</span><span style="color:#E0DEF4">(sqrRadius, sqrRadius-smoothValue, sqrDistance);</span></span>
<span data-line=""><span style="color:#E0DEF4">	} </span><span style="color:#3E8FB0">else</span><span style="color:#E0DEF4"> { output = </span><span style="color:#EA9A97">0</span><span style="color:#E0DEF4">; }</span></span>
<span data-line=""><span style="color:#E0DEF4">}</span></span></code></pre><div data-rehype-pretty-code-caption="" data-language="hlsl" data-theme="default">1.2. Define a circle function</div></div>
<div data-rehype-pretty-code-fragment=""><div data-rehype-pretty-code-title="" data-language="hlsl" data-theme="default">Clouds.shader</div><pre style="background-color:#232136" tabindex="0" data-language="hlsl" data-theme="default"><code data-language="hlsl" data-theme="default"><span data-line=""><span style="color:#E0DEF4">fixed4 </span><span style="color:#EB6F92;font-style:italic">frag</span><span style="color:#E0DEF4">(v2f i) : </span><span style="color:#9CCFD8">SV_Target</span><span style="color:#E0DEF4"> {</span></span>
<span data-line=""><span style="color:#E0DEF4">	fixed4 col = </span><span style="color:#EB6F92;font-style:italic">tex2D</span><span style="color:#E0DEF4">(_MainTex, i.uv);</span></span>
<span data-line=""><span style="color:#E0DEF4">	</span><span style="color:#EB6F92;font-style:italic">drawCircle</span><span style="color:#E0DEF4">(i.uv, center, radius, smoothstepValue, outputAlpha);	</span><span style="color:#6E6A86;font-style:italic">// Defined properties</span></span>
<span data-line=""><span style="color:#E0DEF4">	</span><span style="color:#3E8FB0">return</span><span style="color:#E0DEF4"> col * (</span><span style="color:#EA9A97">1</span><span style="color:#E0DEF4">,</span><span style="color:#EA9A97">1</span><span style="color:#E0DEF4">,</span><span style="color:#EA9A97">1</span><span style="color:#E0DEF4">,</span><span style="color:#EA9A97">1</span><span style="color:#E0DEF4">-outputAlpha);</span></span>
<span data-line=""><span style="color:#E0DEF4">}</span></span></code></pre><div data-rehype-pretty-code-caption="" data-language="hlsl" data-theme="default">1.3. Integrate the circle function with the frag Function</div></div>
<h3 id="2-dynamically-draw-a-circle">2. Dynamically draw a circle<a aria-hidden="true" tabindex="-1" href="#2-dynamically-draw-a-circle"><span class="icon icon-link"></span></a></h3>
<p>Since it&#x27;s planned to have multiple circles, the data structure will be an array.</p>
<div data-rehype-pretty-code-fragment=""><div data-rehype-pretty-code-title="" data-language="hlsl" data-theme="default">Clouds.shader</div><pre style="background-color:#232136" tabindex="0" data-language="hlsl" data-theme="default"><code data-language="hlsl" data-theme="default"><span data-line=""><span style="color:#9CCFD8">sampler2D</span><span style="color:#E0DEF4"> _MainTex;</span></span>
<span data-line=""><span style="color:#3E8FB0">float4</span><span style="color:#E0DEF4"> _MainTex_ST;</span></span>
<span data-line=""><span style="color:#3E8FB0">float4</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4" data-highlighted-chars="">_Points</span><span style="color:#E0DEF4">[</span><span style="color:#EA9A97">100</span><span style="color:#E0DEF4">];	</span><span style="color:#6E6A86;font-style:italic">// The variable being modified. Capped at 100.</span></span></code></pre><div data-rehype-pretty-code-caption="" data-language="hlsl" data-theme="default">2.1. Define a data structure that reads points to make holes</div></div>
<div data-rehype-pretty-code-fragment=""><div data-rehype-pretty-code-title="" data-language="cs" data-theme="default">Clouds.cs</div><pre style="background-color:#232136" tabindex="0" data-language="cs" data-theme="default"><code data-language="cs" data-theme="default"><span data-line=""><span style="color:#3E8FB0">public</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">class</span><span style="color:#E0DEF4"> </span><span style="color:#9CCFD8">Clouds</span><span style="color:#E0DEF4"> </span><span style="color:#908CAA">:</span><span style="color:#E0DEF4"> </span><span style="color:#9CCFD8">MonoBehaviour</span><span style="color:#E0DEF4"> </span><span style="color:#908CAA">{</span></span>
<span data-line=""><span style="color:#E0DEF4">	</span><span style="color:#3E8FB0">public</span><span style="color:#E0DEF4"> </span><span style="color:#9CCFD8">Material</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">m</span><span style="color:#908CAA">;</span></span>
<span data-line=""><span style="color:#E0DEF4">	</span><span style="color:#3E8FB0">public</span><span style="color:#E0DEF4"> </span><span style="color:#9CCFD8">Texture2D</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">t</span><span style="color:#908CAA">;</span></span>
<span data-line=""><span style="color:#E0DEF4">	</span><span style="color:#9CCFD8">Vector4</span><span style="color:#908CAA">[]</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">lights</span><span style="color:#908CAA">;</span></span>
<span data-line=""></span>
<span data-line=""><span style="color:#E0DEF4">	</span><span style="color:#3E8FB0">void</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">NewLight</span><span style="color:#908CAA">(</span><span style="color:#9CCFD8">Vector4</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">v</span><span style="color:#908CAA">)</span><span style="color:#E0DEF4"> </span><span style="color:#908CAA">{</span></span>
<span data-line=""><span style="color:#E0DEF4">		</span><span style="color:#E0DEF4;font-style:italic">lights</span><span style="color:#908CAA">[</span><span style="color:#EA9A97">0</span><span style="color:#908CAA">]</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">=</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4;font-style:italic">v</span><span style="color:#908CAA">;</span></span>
<span data-line=""><span style="color:#E0DEF4">		</span><span style="color:#E0DEF4;font-style:italic">m</span><span style="color:#3E8FB0">.</span><span style="color:#EA9A97">SetVectorArray</span><span style="color:#908CAA">(</span><span style="color:#F6C177">&quot;</span><span style="color:#F6C177" data-highlighted-chars="">_Points</span><span style="color:#F6C177">&quot;</span><span style="color:#908CAA">,</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4;font-style:italic">lights</span><span style="color:#908CAA">);</span><span style="color:#E0DEF4">	</span><span style="color:#908CAA;font-style:italic">//</span><span style="color:#6E6A86;font-style:italic"> Updates the data the shader will use</span></span>
<span data-line=""><span style="color:#E0DEF4">	</span><span style="color:#908CAA">}</span></span>
<span data-line=""></span>
<span data-line=""><span style="color:#E0DEF4">	</span><span style="color:#3E8FB0">void</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">Start</span><span style="color:#908CAA">()</span><span style="color:#E0DEF4"> </span><span style="color:#908CAA">{</span></span>
<span data-line=""><span style="color:#E0DEF4">		</span><span style="color:#9CCFD8">Vector4</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">v</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">=</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">new</span><span style="color:#908CAA">(</span><span style="color:#E0DEF4;font-style:italic">x</span><span style="color:#908CAA">,</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4;font-style:italic">y</span><span style="color:#908CAA">,</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4;font-style:italic">radius</span><span style="color:#908CAA">,</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">0</span><span style="color:#908CAA">);</span><span style="color:#E0DEF4">	</span><span style="color:#908CAA;font-style:italic">//</span><span style="color:#6E6A86;font-style:italic"> The defined data structure</span></span>
<span data-line=""><span style="color:#E0DEF4">		</span><span style="color:#EA9A97">NewLight</span><span style="color:#908CAA">(</span><span style="color:#E0DEF4;font-style:italic">v</span><span style="color:#908CAA">);</span></span>
<span data-line=""><span style="color:#E0DEF4">	</span><span style="color:#908CAA">}</span></span>
<span data-line=""><span style="color:#908CAA">}</span></span></code></pre><div data-rehype-pretty-code-caption="" data-language="cs" data-theme="default">2.2. Use a C# script to populate the variable with data</div></div>
<div data-rehype-pretty-code-fragment=""><div data-rehype-pretty-code-title="" data-language="hlsl" data-theme="default">Clouds.shader</div><pre style="background-color:#232136" tabindex="0" data-language="hlsl" data-theme="default"><code data-language="hlsl" data-theme="default"><span data-line=""><span style="color:#E0DEF4">fixed4 </span><span style="color:#EB6F92;font-style:italic">frag</span><span style="color:#E0DEF4">(v2f i) : </span><span style="color:#9CCFD8">SV_Target</span><span style="color:#E0DEF4"> {</span></span>
<span data-line=""><span style="color:#E0DEF4">	fixed4 col = </span><span style="color:#EB6F92;font-style:italic">tex2D</span><span style="color:#E0DEF4">(_MainTex, i.uv);</span></span>
<span data-line="" data-highlighted-line=""><span style="color:#E0DEF4">	</span><span style="color:#3E8FB0">float</span><span style="color:#E0DEF4"> center = _Points[</span><span style="color:#EA9A97">0</span><span style="color:#E0DEF4">].xy;</span></span>
<span data-line="" data-highlighted-line=""><span style="color:#E0DEF4">	</span><span style="color:#3E8FB0">float</span><span style="color:#E0DEF4"> radius = _Points[</span><span style="color:#EA9A97">0</span><span style="color:#E0DEF4">].z;</span></span>
<span data-line="" data-highlighted-line=""><span style="color:#E0DEF4">	</span><span style="color:#3E8FB0">float</span><span style="color:#E0DEF4"> smoothValue = radius / </span><span style="color:#EA9A97">20</span><span style="color:#E0DEF4">;	</span><span style="color:#6E6A86;font-style:italic">// Feathering based on radius</span></span>
<span data-line=""><span style="color:#E0DEF4">	</span><span style="color:#EB6F92;font-style:italic">drawCircle</span><span style="color:#E0DEF4">(i.uv, center, radius, smoothValue, outputAlpha);	</span><span style="color:#6E6A86;font-style:italic">// Defined properties</span></span>
<span data-line=""><span style="color:#E0DEF4">	</span><span style="color:#3E8FB0">return</span><span style="color:#E0DEF4"> col * (</span><span style="color:#EA9A97">1</span><span style="color:#E0DEF4">,</span><span style="color:#EA9A97">1</span><span style="color:#E0DEF4">,</span><span style="color:#EA9A97">1</span><span style="color:#E0DEF4">,</span><span style="color:#EA9A97">1</span><span style="color:#E0DEF4">-outputAlpha);</span></span>
<span data-line=""><span style="color:#E0DEF4">}</span></span></code></pre><div data-rehype-pretty-code-caption="" data-language="hlsl" data-theme="default">2.3. Use the variables to make a circle</div></div>
<p>Once it&#x27;s possible to pass one variable of points, it&#x27;s easy to pass an array of points using a counter and a for-loop. I won&#x27;t go through that here.</p>
<h3 id="3-world-coordinates-to-uv-coordinates">3. World Coordinates to UV Coordinates<a aria-hidden="true" tabindex="-1" href="#3-world-coordinates-to-uv-coordinates"><span class="icon icon-link"></span></a></h3>
<p>The last challenge is properly covering the world coordinates to the correct UV coordinates.</p>
<ul>
<li>In World Space, the coordinates align on an axis</li>
<li>In Texture Space, the coordinates starts at the bottom-left, and range from (0 ~ 1).</li>
</ul>
<p><strong>To translate world to texture:</strong></p>
<ol>
<li>Get point x<sub>world</sub>, center<sub>world</sub> (the offset from (0,0)<sub>world</sub>), and center<sub>texture</sub> (by dividing the total texture size by 2)</li>
<li>Find how far x<sub>world</sub> is from center<sub>world</sub> as distance<sub>world</sub></li>
<li>x<sub>texture</sub> = center<sub>texture</sub> + distance<sub>world</sub></li>
<li>To translate to uv Space, normalise x<sub>texture</sub> to size<sub>texture</sub> so it&#x27;s within 0 ~ 1 values<!-- -->
<ul>
<li>Make sure to use <code>spriteRenderer.size</code> instead of Texture2D.width or height</li>
</ul>
</li>
</ol>
<div data-rehype-pretty-code-fragment=""><pre style="background-color:#232136" tabindex="0" data-language="cs" data-theme="default"><code data-language="cs" data-theme="default"><span data-line=""><span style="color:#9CCFD8">Vector2</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">size</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">=</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4;font-style:italic">sprRend</span><span style="color:#3E8FB0">.</span><span style="color:#E0DEF4;font-style:italic">size</span><span style="color:#908CAA">;</span></span>
<span data-line=""><span style="color:#9CCFD8">Vector2</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">centerT</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">=</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4;font-style:italic">size</span><span style="color:#3E8FB0">/</span><span style="color:#EA9A97">2</span><span style="color:#908CAA">;</span></span>
<span data-line=""></span>
<span data-line=""><span style="color:#9CCFD8">Vector3</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">centerW</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">=</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4;font-style:italic">gameObject</span><span style="color:#3E8FB0">.</span><span style="color:#E0DEF4;font-style:italic">transform</span><span style="color:#3E8FB0">.</span><span style="color:#E0DEF4;font-style:italic">localPosition</span><span style="color:#908CAA">;</span></span>
<span data-line=""></span>
<span data-line=""><span style="color:#9CCFD8">Vector2</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">distance</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">=</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4;font-style:italic">x</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">-</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4;font-style:italic">centerW</span><span style="color:#908CAA">;</span></span>
<span data-line=""></span>
<span data-line=""><span style="color:#9CCFD8">Vector2</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">xT</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">=</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4;font-style:italic">distance</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">+</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4;font-style:italic">centerT</span><span style="color:#908CAA">;</span></span>
<span data-line=""><span style="color:#9CCFD8">Vector2</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">nXT</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">=</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4;font-style:italic">xT</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">/</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4;font-style:italic">size</span><span style="color:#908CAA">;</span></span>
<span data-line=""></span>
<span data-line=""><span style="color:#E0DEF4;font-style:italic">lights</span><span style="color:#908CAA">[</span><span style="color:#E0DEF4;font-style:italic">j</span><span style="color:#908CAA">]</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">=</span><span style="color:#E0DEF4"> </span><span style="color:#3E8FB0">new</span><span style="color:#908CAA">(</span><span style="color:#E0DEF4;font-style:italic">nXT</span><span style="color:#3E8FB0">.</span><span style="color:#E0DEF4;font-style:italic">x</span><span style="color:#908CAA">,</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4;font-style:italic">nXT</span><span style="color:#3E8FB0">.</span><span style="color:#E0DEF4;font-style:italic">y</span><span style="color:#908CAA">,</span><span style="color:#E0DEF4"> </span><span style="color:#E0DEF4;font-style:italic">x</span><span style="color:#3E8FB0">.</span><span style="color:#E0DEF4;font-style:italic">z</span><span style="color:#908CAA">,</span><span style="color:#E0DEF4"> </span><span style="color:#EA9A97">0</span><span style="color:#908CAA">);</span><span style="color:#E0DEF4">	</span><span style="color:#908CAA;font-style:italic">//</span><span style="color:#6E6A86;font-style:italic"> push to _Points array!</span></span></code></pre></div>
<p>This is how Gradient Holes are made!</p>
<p>Be careful, since we&#x27;re using a C# script to send data to the GPU, a lot of data from CPU will be passed down to GPU, potentially becoming a bottleneck if there&#x27;s a large amount of data to send. (Specifically, O(max_lights, 4 floats) = O(100<em>4</em>4) = O(1600 bytes))</p>
<p>If I were to continue improving this, I would also look into simplifying the calculations by manipulating the <code>vert</code> function in the shader file.</p>
<a target="_blank" class="my-4 mr-4 inline-block py-2 sm:py-3 px-6 sm:px-10 border-accent rounded-full capitalize font-semibold hover:scale-105 transition-all ease duration-200 text-sm sm:text-base bg-accent text-light" href="https://raw.githubusercontent.com/thomasw-dev/LudumDare55/PostJam/LudumDare55/Assets/Scripts/Shader/CloudsHole.shader?token=GHSAT0AAAAAACWRN6OOJXX4WA7FK6J52GOOZWWRY3Q">Source Code: Clouds.shader</a>
<a target="_blank" class="my-4 mr-4 inline-block py-2 sm:py-3 px-6 sm:px-10 border-accent rounded-full capitalize font-semibold hover:scale-105 transition-all ease duration-200 text-sm sm:text-base bg-accent text-light" href="https://raw.githubusercontent.com/thomasw-dev/LudumDare55/PostJam/LudumDare55/Assets/Scripts/Shader/Clouds.cs?token=GHSAT0AAAAAACWRN6OOVFDPRWPWUXID62MWZWWRYSQ">Source Code: Clouds.cs</a>
<!-- --> <!-- -->
<hr/>
<p>Thank you for reading! Check out the game that used this, or the project details about it here!</p>
<a target="" class="my-4 mr-4 inline-block py-2 sm:py-3 px-6 sm:px-10 border-accent rounded-full capitalize font-semibold hover:scale-105 transition-all ease duration-200 text-sm sm:text-base bg-accent text-light" href="/blogs/how-to-silhouette">Part 2: Player Silhouette</a>
<a target="" class="my-4 mr-4 inline-block py-2 sm:py-3 px-6 sm:px-10 border-accent rounded-full capitalize font-semibold hover:scale-105 transition-all ease duration-200 text-sm sm:text-base bg-white text-accent border-2 border-solid " href="/blogs/luminth">Luminth Details</a>
<!-- --> <!-- -->
<iframe frameborder="0" src="https://itch.io/embed/2649454?linkback=true&amp;bg_color=EDE9E4&amp;fg_color=806562&amp;link_color=C3864D&amp;border_color=C3864D" width="552" height="167"><a href="https://raphaeleg.itch.io/luminth"><p>Luminth by Raphaele Guillemot, Thomas Wang</p></a></iframe></div></div></article><footer class=" bg-accentLight p-2 sm:p-10 flex flex-col items-center text-dark"><div class=" w-full relative font-medium py-2 px-8 flex flex-col md:flex-row items-center justify-between"><span class="text-center min-w-[30vw]">©Copyright 2024 Raphaele Guillemot - All Rights Reserved</span><span class="flex flex-col items-center justify-center my-4 md:my-0 min-w-[30vw]"><div class="flex flex-row items-center justify-center my-4"><a href="https://www.linkedin.com/in/raphaele-michelle-guillemot-6a34271a8/" class="inline-block w-6 h-6 mr-4" aria-label="Reach out to me via LinkedIn" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="42" height="43" viewBox="0 0 42 43" class="hover:scale-125 transition-all ease duration-200 w-full h-auto"><g clip-path="url(#a)"><path fill="#0076B2" d="M38.063 1.792H3.937A2.924 2.924 0 0 0 .985 4.679v34.263a2.924 2.924 0 0 0 2.954 2.881h34.124a2.93 2.93 0 0 0 2.954-2.89V4.67a2.93 2.93 0 0 0-2.953-2.878Z"></path><path fill="#fff" d="M6.91 16.797h5.943v19.12H6.91v-19.12Zm2.973-9.516a3.445 3.445 0 1 1 0 6.891 3.445 3.445 0 0 1 0-6.89Zm6.697 9.516h5.696v2.625h.08c.793-1.503 2.73-3.088 5.62-3.088 6.018-.013 7.133 3.948 7.133 9.083v10.5h-5.942v-9.302c0-2.215-.04-5.067-3.088-5.067s-3.566 2.415-3.566 4.922v9.447H16.58v-19.12Z"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 .808h42v42H0z"></path></clipPath></defs></svg></a><a href="https://github.com/raphaeleg" class="inline-block w-6 h-6 mr-4" aria-label="Check my profile on Github" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="42" height="44" viewBox="0 0 42 44" class="w-full h-auto hover:scale-125 transition-all ease duration-200"><path fill-rule="evenodd" d="M21 1.739c-10.942 0-19.815 9.212-19.815 20.577 0 9.091 5.678 16.804 13.55 19.525.99.191 1.354-.446 1.354-.99 0-.49-.018-2.111-.027-3.83-5.512 1.244-6.675-2.428-6.675-2.428-.902-2.379-2.2-3.011-2.2-3.011-1.799-1.277.135-1.25.135-1.25 1.99.144 3.038 2.12 3.038 2.12 1.767 3.145 4.635 2.236 5.766 1.71.177-1.33.691-2.238 1.258-2.752-4.401-.52-9.028-2.284-9.028-10.168 0-2.247.774-4.082 2.042-5.524-.206-.518-.885-2.61.191-5.445 0 0 1.664-.553 5.45 2.11A18.325 18.325 0 0 1 21 11.688c1.683.008 3.38.236 4.963.693 3.782-2.663 5.444-2.11 5.444-2.11 1.079 2.834.4 4.928.195 5.445 1.27 1.442 2.039 3.277 2.039 5.524 0 7.903-4.635 9.643-9.048 10.153.711.638 1.345 1.891 1.345 3.81 0 2.754-.023 4.97-.023 5.647 0 .548.357 1.19 1.36.987 7.87-2.724 13.54-10.434 13.54-19.522 0-11.364-8.872-20.577-19.815-20.577Z" clip-rule="evenodd"></path><path d="M8.69 31.282c-.044.103-.198.133-.34.063-.144-.066-.224-.206-.178-.308.043-.106.198-.135.342-.064.144.067.226.207.176.31Zm.803.93c-.095.091-.28.049-.405-.095-.13-.143-.154-.335-.058-.427.098-.091.277-.048.407.095.13.145.155.335.056.428Zm.781 1.185c-.121.088-.32.006-.443-.177-.121-.183-.121-.403.004-.49.122-.089.318-.01.442.172.121.186.121.406-.003.495Zm1.07 1.145c-.108.125-.34.091-.509-.078-.173-.166-.221-.402-.113-.526.11-.125.343-.09.514.078.173.166.225.402.109.526Zm1.477.665c-.048.161-.27.234-.496.166-.224-.07-.37-.26-.324-.422.045-.163.27-.239.496-.165.224.07.37.257.324.421Zm1.622.123c.005.17-.185.31-.42.314-.237.005-.43-.132-.432-.3 0-.17.187-.31.424-.314.235-.005.428.132.428.3Zm1.508-.266c.029.165-.135.335-.369.38-.23.045-.443-.058-.473-.222-.028-.17.139-.34.369-.384.234-.042.444.058.473.226Z"></path></svg></a><a href="https://raphaeleg.itch.io/" class="inline-block w-6 h-6 mr-4" aria-label="Check my profile on Github" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="323.96" height="323.96" viewBox="0 0 323.96 323.96" class="w-full h-auto hover:scale-125 transition-all ease duration-200"><rect width="313.96" height="313.96" x="5" y="5" fill="#fa5c5c" stroke="#d54c4c" stroke-linecap="round" stroke-linejoin="round" stroke-width="10" ry="8.614" style="color:#000"></rect><g fill="#fff"><path d="M59.159 220.2h22.626v67.062H59.16v-67.063zm11.45-5.451c-3.815 0-6.746-.956-8.791-2.862-2.044-1.908-3.067-4.452-3.067-7.634 0-2.999 1.022-5.544 3.067-7.633 2.045-2.09 4.976-3.135 8.79-3.135 3.818 0 6.748 1.045 8.792 3.135 2.046 2.09 3.068 4.634 3.068 7.632 0 3.18-1.022 5.725-3.067 7.633-2.043 1.907-4.974 2.862-8.79 2.862m44.151 73.865c-6.541 0-11.471-1.749-14.789-5.248-3.317-3.498-4.976-8.382-4.976-14.652v-31.757h-8.994v-16.767h8.995v-16.354h22.627v16.354h14.72v16.767h-14.723v28.488c0 2.09.431 3.567 1.295 4.43s2.203 1.294 4.02 1.294c2.454 0 5.135-1.089 8.042-3.27l5.18 14.857c-2.633 1.818-5.632 3.25-8.996 4.295s-7.498 1.567-12.403 1.567m54.76 0c-10.358 0-18.514-2.952-24.465-8.86-5.954-5.905-8.93-14.493-8.93-25.76 0-8.178 1.682-15.039 5.042-20.58 3.454-5.727 7.772-9.588 12.953-11.588 5.45-2.09 10.494-3.134 15.128-3.134 5.814 0 10.677 1.159 14.583 3.477 3.908 2.316 6.793 4.838 8.656 7.563s3.203 4.862 4.02 6.408l-15.674 10.084c-1.453-2.997-3.044-5.36-4.77-7.087-1.728-1.725-3.818-2.587-6.27-2.587-3.454 0-6.18 1.362-8.179 4.086-2 2.728-2.999 6.86-2.999 12.405 0 5.998 1.181 10.405 3.543 13.222s5.726 4.224 10.086 4.224c3.453 0 6.339-.633 8.657-1.907 2.315-1.27 4.518-2.905 6.608-4.906l7.226 16.902c-2.182 1.818-5.408 3.613-9.677 5.384-4.274 1.771-9.452 2.657-15.54 2.657m32.307-1.35v-91.05h22.762v27.67c1.909-1.364 4.226-2.568 6.95-3.612 2.728-1.045 5.999-1.568 9.816-1.568 7.995 0 13.971 2.272 17.924 6.816s5.93 10.95 5.93 19.218v42.526h-22.762v-39.8c0-3.817-.726-6.611-2.18-8.383s-3.365-2.658-5.727-2.658c-1.998 0-3.861.455-5.588 1.364-1.724.907-3.18 1.861-4.362 2.86v46.617h-22.76z"></path><path fill-opacity="0.235" d="M160.16 353.9c-1.027-.043-2.157.149-3.346.602l-107.36 40.92c-4.754 1.812-8.582 7.112-8.582 11.885v107.77c0 4.772 3.828 7.153 8.582 5.341l.793-.302a7.394 7.394 0 0 1-.308-2.143v-107.77c0-4.772 3.843-10.076 8.615-11.891l106.57-40.52c-.67-2.36-2.517-3.79-4.955-3.893z" style="color:#000" transform="matrix(.93721 .20267 0 .93721 60.853 -328.573)"></path><path d="M58.549 398.19c-4.772 1.815-8.615 7.119-8.615 11.891v107.77c0 4.772 3.843 7.152 8.615 5.337l107.77-40.98c4.772-1.814 8.613-7.116 8.613-11.888V362.55c0-4.772-3.84-7.154-8.613-5.34l-107.77 40.98zm30.461 23.154.008-.003c4.957-1.885 8.483-.013 9.732 4.35l27.4-10.419c1.248-5.313 4.751-9.857 9.71-11.743 7.874-2.994 16.531 1.8 19.233 10.653l6.457 21.138c2.704 8.853-1.535 18.551-9.41 21.545-6.913 2.629-14.427-.743-17.988-7.595l-43.436 16.516c-3.56 9.56-11.076 18.647-17.99 21.276-7.876 2.995-12.112-3.481-9.408-14.39l6.457-26.048c2.703-10.91 11.358-22.286 19.234-25.281zm17.035 7.56v8.806l-7.07 2.689 6.73 5.98 6.727 5.98 6.734-11.103 6.73-11.098-6.63 2.521v-8.803l-13.221 5.028z" style="color:#000" transform="matrix(.93721 .20267 0 .93721 60.853 -328.573)"></path></g></svg></a></div><p>raphaeleguillemotmichelle@gmail.com</p></span><a class="text-center underline my-4 md:my-0 min-w-[30vw]" href="/sitemap.xml">sitemap.xml</a></div></footer><script src="/_next/static/chunks/webpack-87946f1c662425a2.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/3534416bbfdcc9be-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/a34f9d1faa5f3315-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/css/881764d7315ebb41.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L4\"\n"])</script><script>self.__next_f.push([1,"5:I{\"id\":6054,\"chunks\":[\"272:static/chunks/webpack-87946f1c662425a2.js\",\"971:static/chunks/fd9d1056-be4284c6839b84b2.js\",\"864:static/chunks/864-2f812e0173dd607b.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":1729,\"chunks\":[\"272:static/chunks/webpack-87946f1c662425a2.js\",\"971:static/chunks/fd9d1056-be4284c6839b84b2.js\",\"864:static/chunks/864-2f812e0173dd607b.js\"],\"name\":\"\",\"async\":false}\n8:I{\"id\":4673,\"chunks\":[\"724:static/chunks/724-72c1e130eefbb1d6.js\",\"185:static/chunks/app/layout-1cea9739228a0fe4.js\"],\"name\":\"\","])</script><script>self.__next_f.push([1,"\"async\":false}\n9:I{\"id\":1443,\"chunks\":[\"272:static/chunks/webpack-87946f1c662425a2.js\",\"971:static/chunks/fd9d1056-be4284c6839b84b2.js\",\"864:static/chunks/864-2f812e0173dd607b.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":8639,\"chunks\":[\"272:static/chunks/webpack-87946f1c662425a2.js\",\"971:static/chunks/fd9d1056-be4284c6839b84b2.js\",\"864:static/chunks/864-2f812e0173dd607b.js\"],\"name\":\"\",\"async\":false}\nb:I{\"id\":4724,\"chunks\":[\"724:static/chunks/724-72c1e130eefbb1d6.js\",\"964:static/chunks/964-61df1d552c4df895.js\",\"68"])</script><script>self.__next_f.push([1,"8:static/chunks/app/blogs/[slug]/page-806deb45e43d784d.js\"],\"name\":\"\",\"async\":false}\nd:I{\"id\":6964,\"chunks\":[\"724:static/chunks/724-72c1e130eefbb1d6.js\",\"964:static/chunks/964-61df1d552c4df895.js\",\"688:static/chunks/app/blogs/[slug]/page-806deb45e43d784d.js\"],\"name\":\"Image\",\"async\":false}\ne:I{\"id\":8294,\"chunks\":[\"724:static/chunks/724-72c1e130eefbb1d6.js\",\"964:static/chunks/964-61df1d552c4df895.js\",\"688:static/chunks/app/blogs/[slug]/page-806deb45e43d784d.js\"],\"name\":\"\",\"async\":false}\n11:I{\"id\":4692,\"chunks"])</script><script>self.__next_f.push([1,"\":[\"724:static/chunks/724-72c1e130eefbb1d6.js\",\"185:static/chunks/app/layout-1cea9739228a0fe4.js\"],\"name\":\"\",\"async\":false}\nf:T19c9,"])</script><script>self.__next_f.push([1,"A huge mechanic of Luminth was the uncovering of the maze through lights. However, Unity doesn't have a built-in function to create transparent circles, needing technical expertise.\n\n# Primitive Solution\n\nWithin 72 hours, the best solution was using the **stencil buffer**, to reject pixels on the cloud texture based on a circle image attached with the light.\n\n\u003cImage\n\tsrc='/blogs/luminth-2.png'\n\twidth='500'\n\theight='500'\n\talt='timeline'\n\tsizes='100vw'\n/\u003e\n\nThis worked using two stencil buffer materials. The first one passing a ref of 1 with no color, and the second checks if the stencil buffer is not equal to 1 to draw. This was initially done with regular materials since it was a 2D image, but it can be replicated with ShaderLab.\n\n```hlsl title=\"Mask.shader\" caption=\"Always write 1 for the entirety of this object\"\n...\nStencil {\n\tRef 1\n\tComp Always\n\tPass Replace\n}\nColorMask 0\n...\n```\n\n```hlsl title=\"Obj.shader\" caption=\"If the stencil buffer is not equal to 1, keep the original value\"\n...\nStencil {\n\tRef 1\n\tComp NotEqual\n\tPass Keep\n}\n...\n```\n\nBenefits:\n\n- Easy to implement\n- Easy to use with any GameObject\n\nDisadvantages:\n\n- The edges are too harsh for the intended effect.\n\nWe can't get any further with stencil / masking as it only holds integers (not floating points). It literally **accept or reject pixels**.\n\n# Polished Solution\n\nThere exist many solutions based on seeing players through walls, but the applications are mainly 3D, and uses ShaderGraph from URP. Let's look at how we can write a solution based in HLSL.\n\n\u003cImage\n\tsrc='/blogs/luminth-1.png'\n\twidth='500'\n\theight='500'\n\talt='timeline'\n\tsizes='100vw'\n/\u003e\n\n### 1. Draw a transparent, soft circle on texture.\n\n```hlsl title=\"Clouds.shader\" caption=\"1.1. SubShader Characteristics\"\nTags { RenderType = Transparent, Queue = Transparent }\nBlend SrcAlpha OneMinusAlpha\n```\n\n```hlsl title=\"Clouds.shader\" caption=\"1.2. Define a circle function\"\nvoid drawCircle(in float2 uv, in float2 center, in float radius, in float smooth, out float output) {\n\t// Using Signed Distance from the center\n\tfloat sqrDistance = (uv.x - center.x) * (uv.x - center.x) + (uv.y - center.y) * (uv.y - center.y);\n\tfloat sqrRadius = radius * radius;\n\tif (sqrDistance \u003c radius) {\n\t\toutput = smoothstep(sqrRadius, sqrRadius-smoothValue, sqrDistance);\n\t} else { output = 0; }\n}\n```\n\n```hlsl title=\"Clouds.shader\" caption=\"1.3. Integrate the circle function with the frag Function\"\nfixed4 frag(v2f i) : SV_Target {\n\tfixed4 col = tex2D(_MainTex, i.uv);\n\tdrawCircle(i.uv, center, radius, smoothstepValue, outputAlpha);\t// Defined properties\n\treturn col * (1,1,1,1-outputAlpha);\n}\n```\n\n### 2. Dynamically draw a circle\n\nSince it's planned to have multiple circles, the data structure will be an array.\n\n```hlsl /_Points/ title=\"Clouds.shader\" caption=\"2.1. Define a data structure that reads points to make holes\"\nsampler2D _MainTex;\nfloat4 _MainTex_ST;\nfloat4 _Points[100];\t// The variable being modified. Capped at 100.\n```\n\n```cs /_Points/ title=\"Clouds.cs\" caption=\"2.2. Use a C# script to populate the variable with data\"\npublic class Clouds : MonoBehaviour {\n\tpublic Material m;\n\tpublic Texture2D t;\n\tVector4[] lights;\n\n\tvoid NewLight(Vector4 v) {\n\t\tlights[0] = v;\n\t\tm.SetVectorArray(\"_Points\", lights);\t// Updates the data the shader will use\n\t}\n\n\tvoid Start() {\n\t\tVector4 v = new(x, y, radius, 0);\t// The defined data structure\n\t\tNewLight(v);\n\t}\n}\n```\n\n```hlsl {3-5} title=\"Clouds.shader\" caption=\"2.3. Use the variables to make a circle\"\nfixed4 frag(v2f i) : SV_Target {\n\tfixed4 col = tex2D(_MainTex, i.uv);\n\tfloat center = _Points[0].xy;\n\tfloat radius = _Points[0].z;\n\tfloat smoothValue = radius / 20;\t// Feathering based on radius\n\tdrawCircle(i.uv, center, radius, smoothValue, outputAlpha);\t// Defined properties\n\treturn col * (1,1,1,1-outputAlpha);\n}\n```\n\nOnce it's possible to pass one variable of points, it's easy to pass an array of points using a counter and a for-loop. I won't go through that here.\n\n### 3. World Coordinates to UV Coordinates\n\nThe last challenge is properly covering the world coordinates to the correct UV coordinates.\n\n- In World Space, the coordinates align on an axis\n- In Texture Space, the coordinates starts at the bottom-left, and range from (0 ~ 1).\n\n**To translate world to texture:**\n\n1. Get point x\u003csub\u003eworld\u003c/sub\u003e, center\u003csub\u003eworld\u003c/sub\u003e (the offset from (0,0)\u003csub\u003eworld\u003c/sub\u003e), and center\u003csub\u003etexture\u003c/sub\u003e (by dividing the total texture size by 2)\n2. Find how far x\u003csub\u003eworld\u003c/sub\u003e is from center\u003csub\u003eworld\u003c/sub\u003e as distance\u003csub\u003eworld\u003c/sub\u003e\n3. x\u003csub\u003etexture\u003c/sub\u003e = center\u003csub\u003etexture\u003c/sub\u003e + distance\u003csub\u003eworld\u003c/sub\u003e\n4. To translate to uv Space, normalise x\u003csub\u003etexture\u003c/sub\u003e to size\u003csub\u003etexture\u003c/sub\u003e so it's within 0 ~ 1 values\n   - Make sure to use `spriteRenderer.size` instead of Texture2D.width or height\n\n```cs\nVector2 size = sprRend.size;\nVector2 centerT = size/2;\n\nVector3 centerW = gameObject.transform.localPosition;\n\nVector2 distance = x - centerW;\n\nVector2 xT = distance + centerT;\nVector2 nXT = xT / size;\n\nlights[j] = new(nXT.x, nXT.y, x.z, 0);\t// push to _Points array!\n```\n\nThis is how Gradient Holes are made!\n\nBe careful, since we're using a C# script to send data to the GPU, a lot of data from CPU will be passed down to GPU, potentially becoming a bottleneck if there's a large amount of data to send. (Specifically, O(max_lights, 4 floats) = O(100*4*4) = O(1600 bytes))\n\nIf I were to continue improving this, I would also look into simplifying the calculations by manipulating the `vert` function in the shader file.\n\n\u003cTag\n\tlink='https://raw.githubusercontent.com/thomasw-dev/LudumDare55/PostJam/LudumDare55/Assets/Scripts/Shader/CloudsHole.shader?token=GHSAT0AAAAAACWRN6OOJXX4WA7FK6J52GOOZWWRY3Q'\n\tname='Source Code: Clouds.shader'\n\tisSolid={true}\n\tisNewPage={true}\n/\u003e\n\u003cTag\n\tlink='https://raw.githubusercontent.com/thomasw-dev/LudumDare55/PostJam/LudumDare55/Assets/Scripts/Shader/Clouds.cs?token=GHSAT0AAAAAACWRN6OOVFDPRWPWUXID62MWZWWRYSQ'\n\tname='Source Code: Clouds.cs'\n\tisSolid={true}\n\tisNewPage={true}\n/\u003e{' '}\n\n---\n\nThank you for reading! Check out the game that used this, or the project details about it here!\n\n\u003cTag\n\tlink='/blogs/how-to-silhouette'\n\tname='Part 2: Player Silhouette'\n\tisSolid={true}\n/\u003e\n\u003cTag link='/blogs/luminth' name='Luminth Details' isSolid={false} /\u003e{' '}\n\n\u003ciframe\n\tframeborder='0'\n\tsrc='https://itch.io/embed/2649454?linkback=true\u0026amp;bg_color=EDE9E4\u0026amp;fg_color=806562\u0026amp;link_color=C3864D\u0026amp;border_color=C3864D'\n\twidth='552'\n\theight='167'\u003e\n\t\u003ca href='https://raphaeleg.itch.io/luminth'\u003e\n\t\tLuminth by Raphaele Guillemot, Thomas Wang\n\t\u003c/a\u003e\n\u003c/iframe\u003e\n"])</script><script>self.__next_f.push([1,"10:T95c4,"])</script><script>self.__next_f.push([1,"var Component=(()=\u003e{var p=Object.create;var o=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var D=(n,l)=\u003e()=\u003e(l||n((l={exports:{}}).exports,l),l.exports),f=(n,l)=\u003e{for(var t in l)o(n,t,{get:l[t],enumerable:!0})},c=(n,l,t,a)=\u003e{if(l\u0026\u0026typeof l==\"object\"||typeof l==\"function\")for(let r of E(l))!F.call(n,r)\u0026\u0026r!==t\u0026\u0026o(n,r,{get:()=\u003el[r],enumerable:!(a=y(l,r))||a.enumerable});return n};var A=(n,l,t)=\u003e(t=n!=null?p(u(n)):{},c(l||!n||!n.__esModule?o(t,\"default\",{value:n,enumerable:!0}):t,n)),g=n=\u003ec(o({},\"__esModule\",{value:!0}),n);var i=D((v,s)=\u003e{s.exports=_jsx_runtime});var S={};f(S,{default:()=\u003eb,frontmatter:()=\u003em});var e=A(i()),m={title:\"How to: Mask Feathered Holes in Images, Unity (Part 1)\",desc:\"Learn how to achieve a feathered hole effect on an image using HLSL in Unity\",image:\"../../public/blogs/luminth-1.png\",publishedAt:\"2024-05-19\",isPublished:!0,redirect:\"\",tags:[\"shader hlsl\",\"unity\",\"csharp\",\"experiment\",\"solo\"]};function d(n){let l=Object.assign({p:\"p\",h1:\"h1\",a:\"a\",span:\"span\",strong:\"strong\",div:\"div\",pre:\"pre\",code:\"code\",ul:\"ul\",li:\"li\",h3:\"h3\",ol:\"ol\",em:\"em\",hr:\"hr\"},n.components),{Image:t,Tag:a}=l;return t||h(\"Image\",!0),a||h(\"Tag\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(l.p,{children:\"A huge mechanic of Luminth was the uncovering of the maze through lights. However, Unity doesn't have a built-in function to create transparent circles, needing technical expertise.\"}),`\n`,(0,e.jsxs)(l.h1,{id:\"primitive-solution\",children:[\"Primitive Solution\",(0,e.jsx)(l.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#primitive-solution\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})})]}),`\n`,(0,e.jsxs)(l.p,{children:[\"Within 72 hours, the best solution was using the \",(0,e.jsx)(l.strong,{children:\"stencil buffer\"}),\", to reject pixels on the cloud texture based on a circle image attached with the light.\"]}),`\n`,(0,e.jsx)(t,{src:\"/blogs/luminth-2.png\",width:\"500\",height:\"500\",alt:\"timeline\",sizes:\"100vw\"}),`\n`,(0,e.jsx)(l.p,{children:\"This worked using two stencil buffer materials. The first one passing a ref of 1 with no color, and the second checks if the stencil buffer is not equal to 1 to draw. This was initially done with regular materials since it was a 2D image, but it can be replicated with ShaderLab.\"}),`\n`,(0,e.jsxs)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,e.jsx)(l.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:\"Mask.shader\"}),(0,e.jsx)(l.pre,{style:{backgroundColor:\"#232136\"},tabIndex:\"0\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:[(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"...\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"Stencil {\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\tRef \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"1\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\tComp \"}),(0,e.jsx)(l.span,{style:{color:\"#F6C177\"},children:\"Always\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\tPass \"}),(0,e.jsx)(l.span,{style:{color:\"#F6C177\"},children:\"Replace\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"}\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"ColorMask \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"0\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"...\"})})]})}),(0,e.jsx)(l.div,{\"data-rehype-pretty-code-caption\":\"\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:\"Always write 1 for the entirety of this object\"})]}),`\n`,(0,e.jsxs)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,e.jsx)(l.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:\"Obj.shader\"}),(0,e.jsx)(l.pre,{style:{backgroundColor:\"#232136\"},tabIndex:\"0\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:[(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"...\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"Stencil {\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\tRef \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"1\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\tComp NotEqual\"})}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\tPass \"}),(0,e.jsx)(l.span,{style:{color:\"#F6C177\"},children:\"Keep\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"}\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"...\"})})]})}),(0,e.jsx)(l.div,{\"data-rehype-pretty-code-caption\":\"\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:\"If the stencil buffer is not equal to 1, keep the original value\"})]}),`\n`,(0,e.jsx)(l.p,{children:\"Benefits:\"}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsx)(l.li,{children:\"Easy to implement\"}),`\n`,(0,e.jsx)(l.li,{children:\"Easy to use with any GameObject\"}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"Disadvantages:\"}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsx)(l.li,{children:\"The edges are too harsh for the intended effect.\"}),`\n`]}),`\n`,(0,e.jsxs)(l.p,{children:[\"We can't get any further with stencil / masking as it only holds integers (not floating points). It literally \",(0,e.jsx)(l.strong,{children:\"accept or reject pixels\"}),\".\"]}),`\n`,(0,e.jsxs)(l.h1,{id:\"polished-solution\",children:[\"Polished Solution\",(0,e.jsx)(l.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#polished-solution\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})})]}),`\n`,(0,e.jsx)(l.p,{children:\"There exist many solutions based on seeing players through walls, but the applications are mainly 3D, and uses ShaderGraph from URP. Let's look at how we can write a solution based in HLSL.\"}),`\n`,(0,e.jsx)(t,{src:\"/blogs/luminth-1.png\",width:\"500\",height:\"500\",alt:\"timeline\",sizes:\"100vw\"}),`\n`,(0,e.jsxs)(l.h3,{id:\"1-draw-a-transparent-soft-circle-on-texture\",children:[\"1. Draw a transparent, soft circle on texture.\",(0,e.jsx)(l.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#1-draw-a-transparent-soft-circle-on-texture\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})})]}),`\n`,(0,e.jsxs)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,e.jsx)(l.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:\"Clouds.shader\"}),(0,e.jsx)(l.pre,{style:{backgroundColor:\"#232136\"},tabIndex:\"0\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:[(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"Tags { RenderType = Transparent, Queue = Transparent }\"})}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"Blend SrcAlpha OneMinusAlpha\"})})]})}),(0,e.jsx)(l.div,{\"data-rehype-pretty-code-caption\":\"\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:\"1.1. SubShader Characteristics\"})]}),`\n`,(0,e.jsxs)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,e.jsx)(l.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:\"Clouds.shader\"}),(0,e.jsx)(l.pre,{style:{backgroundColor:\"#232136\"},tabIndex:\"0\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"void\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EB6F92\",fontStyle:\"italic\"},children:\"drawCircle\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"in\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"float2\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" uv, \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"in\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"float2\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" center, \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"in\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"float\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" radius, \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"in\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"float\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" smooth, \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"out\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"float\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" output) {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#6E6A86\",fontStyle:\"italic\"},children:\"// Using Signed Distance from the center\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"float\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" sqrDistance = (uv.x - center.x) * (uv.x - center.x) + (uv.y - center.y) * (uv.y - center.y);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"float\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" sqrRadius = radius * radius;\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"if\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" (sqrDistance \u003c radius) {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\toutput = \"}),(0,e.jsx)(l.span,{style:{color:\"#EB6F92\",fontStyle:\"italic\"},children:\"smoothstep\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"(sqrRadius, sqrRadius-smoothValue, sqrDistance);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t} \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"else\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" { output = \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"; }\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"}\"})})]})}),(0,e.jsx)(l.div,{\"data-rehype-pretty-code-caption\":\"\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:\"1.2. Define a circle function\"})]}),`\n`,(0,e.jsxs)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,e.jsx)(l.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:\"Clouds.shader\"}),(0,e.jsx)(l.pre,{style:{backgroundColor:\"#232136\"},tabIndex:\"0\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"fixed4 \"}),(0,e.jsx)(l.span,{style:{color:\"#EB6F92\",fontStyle:\"italic\"},children:\"frag\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"(v2f i) : \"}),(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"SV_Target\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\tfixed4 col = \"}),(0,e.jsx)(l.span,{style:{color:\"#EB6F92\",fontStyle:\"italic\"},children:\"tex2D\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"(_MainTex, i.uv);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#EB6F92\",fontStyle:\"italic\"},children:\"drawCircle\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"(i.uv, center, radius, smoothstepValue, outputAlpha);\t\"}),(0,e.jsx)(l.span,{style:{color:\"#6E6A86\",fontStyle:\"italic\"},children:\"// Defined properties\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" col * (\"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"-outputAlpha);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"}\"})})]})}),(0,e.jsx)(l.div,{\"data-rehype-pretty-code-caption\":\"\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:\"1.3. Integrate the circle function with the frag Function\"})]}),`\n`,(0,e.jsxs)(l.h3,{id:\"2-dynamically-draw-a-circle\",children:[\"2. Dynamically draw a circle\",(0,e.jsx)(l.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#2-dynamically-draw-a-circle\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})})]}),`\n`,(0,e.jsx)(l.p,{children:\"Since it's planned to have multiple circles, the data structure will be an array.\"}),`\n`,(0,e.jsxs)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,e.jsx)(l.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:\"Clouds.shader\"}),(0,e.jsx)(l.pre,{style:{backgroundColor:\"#232136\"},tabIndex:\"0\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"sampler2D\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" _MainTex;\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"float4\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" _MainTex_ST;\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"float4\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},\"data-highlighted-chars\":\"\",children:\"_Points\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"[\"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"100\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"];\t\"}),(0,e.jsx)(l.span,{style:{color:\"#6E6A86\",fontStyle:\"italic\"},children:\"// The variable being modified. Capped at 100.\"})]})]})}),(0,e.jsx)(l.div,{\"data-rehype-pretty-code-caption\":\"\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:\"2.1. Define a data structure that reads points to make holes\"})]}),`\n`,(0,e.jsxs)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,e.jsx)(l.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"cs\",\"data-theme\":\"default\",children:\"Clouds.cs\"}),(0,e.jsx)(l.pre,{style:{backgroundColor:\"#232136\"},tabIndex:\"0\",\"data-language\":\"cs\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"cs\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"public\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"class\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"Clouds\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\":\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"MonoBehaviour\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"{\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"public\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"Material\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"m\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"public\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"Texture2D\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"t\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"Vector4\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"[]\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"lights\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"void\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"NewLight\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"Vector4\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"v\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\")\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"{\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\t\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"lights\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"[\"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"]\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"v\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\t\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"m\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"SetVectorArray\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#F6C177\"},children:'\"'}),(0,e.jsx)(l.span,{style:{color:\"#F6C177\"},\"data-highlighted-chars\":\"\",children:\"_Points\"}),(0,e.jsx)(l.span,{style:{color:\"#F6C177\"},children:'\"'}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"lights\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\");\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\",fontStyle:\"italic\"},children:\"//\"}),(0,e.jsx)(l.span,{style:{color:\"#6E6A86\",fontStyle:\"italic\"},children:\" Updates the data the shader will use\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"}\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"void\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"Start\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"()\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"{\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\t\"}),(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"Vector4\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"v\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"new\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"x\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"y\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"radius\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\");\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\",fontStyle:\"italic\"},children:\"//\"}),(0,e.jsx)(l.span,{style:{color:\"#6E6A86\",fontStyle:\"italic\"},children:\" The defined data structure\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\t\"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"NewLight\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"v\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\");\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"}\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"}\"})})]})}),(0,e.jsx)(l.div,{\"data-rehype-pretty-code-caption\":\"\",\"data-language\":\"cs\",\"data-theme\":\"default\",children:\"2.2. Use a C# script to populate the variable with data\"})]}),`\n`,(0,e.jsxs)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,e.jsx)(l.div,{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:\"Clouds.shader\"}),(0,e.jsx)(l.pre,{style:{backgroundColor:\"#232136\"},tabIndex:\"0\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"fixed4 \"}),(0,e.jsx)(l.span,{style:{color:\"#EB6F92\",fontStyle:\"italic\"},children:\"frag\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"(v2f i) : \"}),(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"SV_Target\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\tfixed4 col = \"}),(0,e.jsx)(l.span,{style:{color:\"#EB6F92\",fontStyle:\"italic\"},children:\"tex2D\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"(_MainTex, i.uv);\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"float\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" center = _Points[\"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"].xy;\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"float\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" radius = _Points[\"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"].z;\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",\"data-highlighted-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"float\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" smoothValue = radius / \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"20\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\";\t\"}),(0,e.jsx)(l.span,{style:{color:\"#6E6A86\",fontStyle:\"italic\"},children:\"// Feathering based on radius\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#EB6F92\",fontStyle:\"italic\"},children:\"drawCircle\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"(i.uv, center, radius, smoothValue, outputAlpha);\t\"}),(0,e.jsx)(l.span,{style:{color:\"#6E6A86\",fontStyle:\"italic\"},children:\"// Defined properties\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" col * (\"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"-outputAlpha);\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\",children:(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"}\"})})]})}),(0,e.jsx)(l.div,{\"data-rehype-pretty-code-caption\":\"\",\"data-language\":\"hlsl\",\"data-theme\":\"default\",children:\"2.3. Use the variables to make a circle\"})]}),`\n`,(0,e.jsx)(l.p,{children:\"Once it's possible to pass one variable of points, it's easy to pass an array of points using a counter and a for-loop. I won't go through that here.\"}),`\n`,(0,e.jsxs)(l.h3,{id:\"3-world-coordinates-to-uv-coordinates\",children:[\"3. World Coordinates to UV Coordinates\",(0,e.jsx)(l.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#3-world-coordinates-to-uv-coordinates\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})})]}),`\n`,(0,e.jsx)(l.p,{children:\"The last challenge is properly covering the world coordinates to the correct UV coordinates.\"}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsx)(l.li,{children:\"In World Space, the coordinates align on an axis\"}),`\n`,(0,e.jsx)(l.li,{children:\"In Texture Space, the coordinates starts at the bottom-left, and range from (0 ~ 1).\"}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:(0,e.jsx)(l.strong,{children:\"To translate world to texture:\"})}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsxs)(l.li,{children:[\"Get point x\",(0,e.jsx)(\"sub\",{children:\"world\"}),\", center\",(0,e.jsx)(\"sub\",{children:\"world\"}),\" (the offset from (0,0)\",(0,e.jsx)(\"sub\",{children:\"world\"}),\"), and center\",(0,e.jsx)(\"sub\",{children:\"texture\"}),\" (by dividing the total texture size by 2)\"]}),`\n`,(0,e.jsxs)(l.li,{children:[\"Find how far x\",(0,e.jsx)(\"sub\",{children:\"world\"}),\" is from center\",(0,e.jsx)(\"sub\",{children:\"world\"}),\" as distance\",(0,e.jsx)(\"sub\",{children:\"world\"})]}),`\n`,(0,e.jsxs)(l.li,{children:[\"x\",(0,e.jsx)(\"sub\",{children:\"texture\"}),\" = center\",(0,e.jsx)(\"sub\",{children:\"texture\"}),\" + distance\",(0,e.jsx)(\"sub\",{children:\"world\"})]}),`\n`,(0,e.jsxs)(l.li,{children:[\"To translate to uv Space, normalise x\",(0,e.jsx)(\"sub\",{children:\"texture\"}),\" to size\",(0,e.jsx)(\"sub\",{children:\"texture\"}),\" so it's within 0 ~ 1 values\",`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsxs)(l.li,{children:[\"Make sure to use \",(0,e.jsx)(l.code,{children:\"spriteRenderer.size\"}),\" instead of Texture2D.width or height\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{style:{backgroundColor:\"#232136\"},tabIndex:\"0\",\"data-language\":\"cs\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"cs\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"Vector2\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"size\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"sprRend\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"size\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"Vector2\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"centerT\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"size\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"/\"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"2\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"Vector3\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"centerW\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"gameObject\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"transform\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"localPosition\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"Vector2\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"distance\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"x\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"-\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"centerW\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"Vector2\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"xT\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"distance\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"centerT\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\";\"})]}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#9CCFD8\"},children:\"Vector2\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"nXT\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"xT\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"/\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"size\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\";\"})]}),`\n`,(0,e.jsx)(l.span,{\"data-line\":\"\"}),`\n`,(0,e.jsxs)(l.span,{\"data-line\":\"\",children:[(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"lights\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"[\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"j\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"]\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\"new\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"nXT\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"x\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"nXT\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"y\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"x\"}),(0,e.jsx)(l.span,{style:{color:\"#3E8FB0\"},children:\".\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"z\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#EA9A97\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\"},children:\");\"}),(0,e.jsx)(l.span,{style:{color:\"#E0DEF4\"},children:\"\t\"}),(0,e.jsx)(l.span,{style:{color:\"#908CAA\",fontStyle:\"italic\"},children:\"//\"}),(0,e.jsx)(l.span,{style:{color:\"#6E6A86\",fontStyle:\"italic\"},children:\" push to _Points array!\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"This is how Gradient Holes are made!\"}),`\n`,(0,e.jsxs)(l.p,{children:[\"Be careful, since we're using a C# script to send data to the GPU, a lot of data from CPU will be passed down to GPU, potentially becoming a bottleneck if there's a large amount of data to send. (Specifically, O(max_lights, 4 floats) = O(100\",(0,e.jsx)(l.em,{children:\"4\"}),\"4) = O(1600 bytes))\"]}),`\n`,(0,e.jsxs)(l.p,{children:[\"If I were to continue improving this, I would also look into simplifying the calculations by manipulating the \",(0,e.jsx)(l.code,{children:\"vert\"}),\" function in the shader file.\"]}),`\n`,(0,e.jsx)(a,{link:\"https://raw.githubusercontent.com/thomasw-dev/LudumDare55/PostJam/LudumDare55/Assets/Scripts/Shader/CloudsHole.shader?token=GHSAT0AAAAAACWRN6OOJXX4WA7FK6J52GOOZWWRY3Q\",name:\"Source Code: Clouds.shader\",isSolid:!0,isNewPage:!0}),`\n`,(0,e.jsx)(a,{link:\"https://raw.githubusercontent.com/thomasw-dev/LudumDare55/PostJam/LudumDare55/Assets/Scripts/Shader/Clouds.cs?token=GHSAT0AAAAAACWRN6OOVFDPRWPWUXID62MWZWWRYSQ\",name:\"Source Code: Clouds.cs\",isSolid:!0,isNewPage:!0}),`\n`,\" \",`\n`,(0,e.jsx)(l.hr,{}),`\n`,(0,e.jsx)(l.p,{children:\"Thank you for reading! Check out the game that used this, or the project details about it here!\"}),`\n`,(0,e.jsx)(a,{link:\"/blogs/how-to-silhouette\",name:\"Part 2: Player Silhouette\",isSolid:!0}),`\n`,(0,e.jsx)(a,{link:\"/blogs/luminth\",name:\"Luminth Details\",isSolid:!1}),`\n`,\" \",`\n`,(0,e.jsx)(\"iframe\",{frameborder:\"0\",src:\"https://itch.io/embed/2649454?linkback=true\u0026bg_color=EDE9E4\u0026fg_color=806562\u0026link_color=C3864D\u0026border_color=C3864D\",width:\"552\",height:\"167\",children:(0,e.jsx)(\"a\",{href:\"https://raphaeleg.itch.io/luminth\",children:(0,e.jsx)(l.p,{children:\"Luminth by Raphaele Guillemot, Thomas Wang\"})})})]})}function C(n={}){let{wrapper:l}=n.components||{};return l?(0,e.jsx)(l,Object.assign({},n,{children:(0,e.jsx)(d,n)})):d(n)}var b=C;function h(n,l){throw new Error(\"Expected \"+(l?\"component\":\"object\")+\" `\"+n+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return g(S);})();\n;return Component;"])</script><script>self.__next_f.push([1,"4:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/881764d7315ebb41.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L5\",null,{\"buildId\":\"_OxlGH8BQ-EdvL6nrIH0i\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/blogs/how-to-mask-feathered-holes\",\"initialTree\":[\"\",{\"children\":[\"blogs\",{\"children\":[[\"slug\",\"how-to-mask-feathered-holes\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"how-to-mask-feathered-holes\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L6\"],\"globalErrorComponent\":\"$7\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_36bd41 __variable_da1155 font-mr bg-light\",\"children\":[[\"$\",\"$L8\",null,{}],[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[\"$\",\"main\",null,{\"className\":\"my-32 w-full h-[55vh] flex justify-center font-mr\",\"children\":[\"$\",\"div\",null,{\"className\":\"relative flex flex-col items-center justify-center\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"inline-block text-dark \\n      text-6xl font-bold w-full capitalize xl:text-8xl text-center\",\"children\":\"404\"}],[\"$\",\"h2\",null,{\"className\":\"inline-block text-dark \\n      text-5xl font-bold w-full capitalize xl:text-6xl text-center mt-4 tracking-wide leading-snug\",\"children\":\"Page Not Found!\"}],[\"$\",\"$Lb\",null,{\"href\":\"/\",\"target\":\"\",\"className\":\"my-4 mr-4 inline-block py-2 sm:py-3 px-6 sm:px-10 border-accent rounded-full capitalize font-semibold hover:scale-105 transition-all ease duration-200 text-sm sm:text-base bg-accent text-light m-12\",\"children\":\"Go To Home\"}]]}]}],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blogs\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blogs\",\"children\",[\"slug\",\"how-to-mask-feathered-holes\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lc\",[[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"NewsArticle\\\",\\\"headline\\\":\\\"How to: Mask Feathered Holes in Images, Unity (Part 1)\\\",\\\"image\\\":[\\\"https://raphaeleg.github.io/blogs/luminth-1.png\\\"],\\\"datePublished\\\":\\\"2024-05-19T00:00:00.000Z\\\",\\\"dateModified\\\":\\\"2024-05-19T00:00:00.000Z\\\",\\\"author\\\":[{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"Raphaele's Portfolio\\\",\\\"url\\\":\\\"https://www.linkedin.com/in/raphaele-michelle-guillemot-6a34271a8/\\\"}]}\"}}],[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8 text-center relative w-full h-[50vh] bg-dark\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-5/6 z-10 flex flex-col items-center justify-center absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2\",\"children\":[[\"$\",\"span\",null,{\"children\":[[\"$\",\"$Lb\",null,{\"href\":\"/categories/shader-hlsl\",\"target\":\"\",\"className\":\"my-4 mr-4 inline-block py-2 sm:py-3 px-6 sm:px-10 border-accent rounded-full capitalize font-semibold hover:scale-105 transition-all ease duration-200 text-sm sm:text-base bg-accent text-light px-6 mx-2 text-sm py-2\",\"children\":\"#shader hlsl\"}],[\"$\",\"$Lb\",null,{\"href\":\"/categories/unity\",\"target\":\"\",\"className\":\"my-4 mr-4 inline-block py-2 sm:py-3 px-6 sm:px-10 border-accent rounded-full capitalize font-semibold hover:scale-105 transition-all ease duration-200 text-sm sm:text-base bg-accent text-light px-6 mx-2 text-sm py-2\",\"children\":\"#unity\"}],[\"$\",\"$Lb\",null,{\"href\":\"/categories/csharp\",\"target\":\"\",\"className\":\"my-4 mr-4 inline-block py-2 sm:py-3 px-6 sm:px-10 border-accent rounded-full capitalize font-semibold hover:scale-105 transition-all ease duration-200 text-sm sm:text-base bg-accent text-light px-6 mx-2 text-sm py-2\",\"children\":\"#csharp\"}],[\"$\",\"$Lb\",null,{\"href\":\"/categories/experiment\",\"target\":\"\",\"className\":\"my-4 mr-4 inline-block py-2 sm:py-3 px-6 sm:px-10 border-accent rounded-full capitalize font-semibold hover:scale-105 transition-all ease duration-200 text-sm sm:text-base bg-accent text-light px-6 mx-2 text-sm py-2\",\"children\":\"#experiment\"}],[\"$\",\"$Lb\",null,{\"href\":\"/categories/solo\",\"target\":\"\",\"className\":\"my-4 mr-4 inline-block py-2 sm:py-3 px-6 sm:px-10 border-accent rounded-full capitalize font-semibold hover:scale-105 transition-all ease duration-200 text-sm sm:text-base bg-accent text-light px-6 mx-2 text-sm py-2\",\"children\":\"#solo\"}]]}],[\"$\",\"h1\",null,{\"className\":\"inline-block mt-6 font-semibold capitalize text-light text-2xl md:text-3xl lg:text-5xl !leading-normal relative\",\"children\":\"How to: Mask Feathered Holes in Images, Unity (Part 1)\"}],\"$undefined\"]}],[\"$\",\"div\",null,{\"className\":\"absolute top-0 left-0 right-0 bottom-0 h-full bg-dark/60\"}],[\"$\",\"$Ld\",null,{\"src\":\"/blogs/luminth-1.png\",\"placeholder\":\"blur\",\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAXVBMVEXArZafjYSllotRQmxuX2xtU1rKuJ6un5bPv6bd0bhxW2bn28JaMD1TPlhbSl9oUWG5pY+5p5SShpeskXq5nH9zaXK3pI6Qcmnw5MfIwrqxpqPSw6vCua1mSlN6UkbCajQlAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARElEQVR4nBXHRRLAMAwEsA04toNlbv//zE50EyAi3IrDrfq0N2YYe1xE/sOGdHqqFapJ2ReHMfBul5kBxLwGEWAwU+8PZwsCm/8T5zoAAAAASUVORK5CYII=\",\"alt\":\"How to: Mask Feathered Holes in Images, Unity (Part 1)\",\"width\":1430,\"height\":800,\"className\":\"w-full h-full object-cover object-center false [object Object]\",\"priority\":true,\"sizes\":\"100vw\"}]]}],[\"$\",\"div\",null,{\"className\":\"grid grid-cols-12  gap-y-8 lg:gap-8 sxl:gap-16 mt-8 px-5 md:px-10\",\"children\":[[\"$\",\"div\",null,{\"className\":\"col-span-12  lg:col-span-4\",\"children\":[\"$\",\"details\",null,{\"className\":\"border-[1px] border-solid border-dark  text-dark  rounded-lg p-4 sticky top-6 max-h-[80vh] overflow-hidden overflow-y-auto\",\"open\":true,\"children\":[[\"$\",\"summary\",null,{\"className\":\"text-lg font-semibold capitalize cursor-pointer\",\"children\":\"Table Of Content\"}],[\"$\",\"ul\",null,{\"className\":\"mt-4 font-in text-base\",\"children\":[[\"$\",\"li\",\"#primitive-solution\",{\"className\":\"py-1\",\"children\":[\"$\",\"a\",null,{\"href\":\"#primitive-solution\",\"data-level\":\"one\",\"className\":\"data-[level=two]:pl-0  data-[level=two]:pt-2 data-[level=two]:border-t border-solid border-dark/40 data-[level=three]:pl-4 sm:data-[level=three]:pl-6 flex items-center justify-start \",\"children\":[null,[\"$\",\"span\",null,{\"className\":\"hover:underline\",\"children\":\"Primitive Solution\"}]]}]}],[\"$\",\"li\",\"#polished-solution\",{\"className\":\"py-1\",\"children\":[\"$\",\"a\",null,{\"href\":\"#polished-solution\",\"data-level\":\"one\",\"className\":\"data-[level=two]:pl-0  data-[level=two]:pt-2 data-[level=two]:border-t border-solid border-dark/40 data-[level=three]:pl-4 sm:data-[level=three]:pl-6 flex items-center justify-start \",\"children\":[null,[\"$\",\"span\",null,{\"className\":\"hover:underline\",\"children\":\"Polished Solution\"}]]}]}],[\"$\",\"li\",\"#1-draw-a-transparent-soft-circle-on-texture\",{\"className\":\"py-1\",\"children\":[\"$\",\"a\",null,{\"href\":\"#1-draw-a-transparent-soft-circle-on-texture\",\"data-level\":\"three\",\"className\":\"data-[level=two]:pl-0  data-[level=two]:pt-2 data-[level=two]:border-t border-solid border-dark/40 data-[level=three]:pl-4 sm:data-[level=three]:pl-6 flex items-center justify-start \",\"children\":[[\"$\",\"span\",null,{\"className\":\"flex w-1 h-1 rounded-full bg-dark mr-2\",\"children\":\" \"}],[\"$\",\"span\",null,{\"className\":\"hover:underline\",\"children\":\"1. Draw a transparent, soft circle on texture.\"}]]}]}],[\"$\",\"li\",\"#2-dynamically-draw-a-circle\",{\"className\":\"py-1\",\"children\":[\"$\",\"a\",null,{\"href\":\"#2-dynamically-draw-a-circle\",\"data-level\":\"three\",\"className\":\"data-[level=two]:pl-0  data-[level=two]:pt-2 data-[level=two]:border-t border-solid border-dark/40 data-[level=three]:pl-4 sm:data-[level=three]:pl-6 flex items-center justify-start \",\"children\":[[\"$\",\"span\",null,{\"className\":\"flex w-1 h-1 rounded-full bg-dark mr-2\",\"children\":\" \"}],[\"$\",\"span\",null,{\"className\":\"hover:underline\",\"children\":\"2. Dynamically draw a circle\"}]]}]}],[\"$\",\"li\",\"#3-world-coordinates-to-uv-coordinates\",{\"className\":\"py-1\",\"children\":[\"$\",\"a\",null,{\"href\":\"#3-world-coordinates-to-uv-coordinates\",\"data-level\":\"three\",\"className\":\"data-[level=two]:pl-0  data-[level=two]:pt-2 data-[level=two]:border-t border-solid border-dark/40 data-[level=three]:pl-4 sm:data-[level=three]:pl-6 flex items-center justify-start \",\"children\":[[\"$\",\"span\",null,{\"className\":\"flex w-1 h-1 rounded-full bg-dark mr-2\",\"children\":\" \"}],[\"$\",\"span\",null,{\"className\":\"hover:underline\",\"children\":\"3. World Coordinates to UV Coordinates\"}]]}]}]]}]]}]}],[\"$\",\"$Le\",null,{\"blog\":{\"title\":\"How to: Mask Feathered Holes in Images, Unity (Part 1)\",\"publishedAt\":\"2024-05-19T00:00:00.000Z\",\"desc\":\"Learn how to achieve a feathered hole effect on an image using HLSL in Unity\",\"image\":{\"filePath\":\"../public/blogs/luminth-1.png\",\"relativeFilePath\":\"../../public/blogs/luminth-1.png\",\"format\":\"png\",\"height\":800,\"width\":1430,\"aspectRatio\":1.7875,\"blurhashDataUrl\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAXVBMVEXArZafjYSllotRQmxuX2xtU1rKuJ6un5bPv6bd0bhxW2bn28JaMD1TPlhbSl9oUWG5pY+5p5SShpeskXq5nH9zaXK3pI6Qcmnw5MfIwrqxpqPSw6vCua1mSlN6UkbCajQlAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARElEQVR4nBXHRRLAMAwEsA04toNlbv//zE50EyAi3IrDrfq0N2YYe1xE/sOGdHqqFapJ2ReHMfBul5kBxLwGEWAwU+8PZwsCm/8T5zoAAAAASUVORK5CYII=\"},\"isPublished\":true,\"redirect\":\"\",\"tags\":[\"shader hlsl\",\"unity\",\"csharp\",\"experiment\",\"solo\"],\"body\":{\"raw\":\"$f\",\"code\":\"$10\"},\"_id\":\"how-to-mask-feathered-holes/index.mdx\",\"_raw\":{\"sourceFilePath\":\"how-to-mask-feathered-holes/index.mdx\",\"sourceFileName\":\"index.mdx\",\"sourceFileDir\":\"how-to-mask-feathered-holes\",\"contentType\":\"mdx\",\"flattenedPath\":\"how-to-mask-feathered-holes\"},\"type\":\"Blog\",\"url\":\"/blogs/how-to-mask-feathered-holes\",\"toc\":[{\"level\":\"one\",\"text\":\"Primitive Solution\",\"slug\":\"primitive-solution\"},{\"level\":\"one\",\"text\":\"Polished Solution\",\"slug\":\"polished-solution\"},{\"level\":\"three\",\"text\":\"1. Draw a transparent, soft circle on texture.\",\"slug\":\"1-draw-a-transparent-soft-circle-on-texture\"},{\"level\":\"three\",\"text\":\"2. Dynamically draw a circle\",\"slug\":\"2-dynamically-draw-a-circle\"},{\"level\":\"three\",\"text\":\"3. World Coordinates to UV Coordinates\",\"slug\":\"3-world-coordinates-to-uv-coordinates\"}]}}]]}]]}]],null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"how-to-mask-feathered-holes\\\"}\"},\"styles\":[]}],\"segment\":[\"slug\",\"how-to-mask-feathered-holes\",\"d\"]},\"styles\":[]}],\"segment\":\"blogs\"},\"styles\":[]}],[\"$\",\"$L11\",null,{}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"6:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"How to: Mask Feathered Holes in Images, Unity (Part 1) | Raphaele's Portfolio\"}],[\"$\",\"link\",\"2\",{\"rel\":\"manifest\",\"href\":\"/manifest.webmanifest\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"4\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"5\",{\"name\":\"googlebot\",\"content\":\"index, follow, noimageindex, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:title\",\"content\":\"How to: Mask Feathered Holes in Images, Unity (Part 1)\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:url\",\"content\":\"https://raphaeleg.github.io/blogs/how-to-mask-feathered-holes\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:site_name\",\"content\":\"Raphaele's Portfolio\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:locale\",\"content\":\"en-us\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:image\",\"content\":\"https://raphaeleg.github.io/blogs/luminth-1.png\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"12\",{\"property\":\"article:published_time\",\"content\":\"2024-05-19T00:00:00.000Z\"}],[\"$\",\"meta\",\"13\",{\"property\":\"article:modified_time\",\"content\":\"2024-05-19T00:00:00.000Z\"}],[\"$\",\"meta\",\"14\",{\"property\":\"article:author\",\"content\":\"Raphaele's Portfolio\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:title\",\"content\":\"How to: Mask Feathered Holes in Images, Unity (Part 1)\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:image\",\"content\":\"https://raphaeleg.github.io/blogs/luminth-1.png\"}],[\"$\",\"meta\",\"18\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"c:null\n"])</script></body></html>