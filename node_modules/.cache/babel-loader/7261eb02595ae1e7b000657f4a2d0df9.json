{"ast":null,"code":"import _slicedToArray from \"/Users/crushedsummers/Desktop/Work/Application/portfolio22/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"/Users/crushedsummers/Desktop/Work/Application/portfolio22/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { getWindow } from 'ssr-window';\nimport { elementChildren, elementOffset, elementParents, getTranslate } from '../../shared/utils.js';\nexport default function Zoom(_ref) {\n  var swiper = _ref.swiper,\n      extendParams = _ref.extendParams,\n      on = _ref.on,\n      emit = _ref.emit;\n  var window = getWindow();\n  extendParams({\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  });\n  swiper.zoom = {\n    enabled: false\n  };\n  var currentScale = 1;\n  var isScaling = false;\n  var fakeGestureTouched;\n  var fakeGestureMoved;\n  var evCache = [];\n  var gesture = {\n    originX: 0,\n    originY: 0,\n    slideEl: undefined,\n    slideWidth: undefined,\n    slideHeight: undefined,\n    imageEl: undefined,\n    imageWrapEl: undefined,\n    maxRatio: 3\n  };\n  var image = {\n    isTouched: undefined,\n    isMoved: undefined,\n    currentX: undefined,\n    currentY: undefined,\n    minX: undefined,\n    minY: undefined,\n    maxX: undefined,\n    maxY: undefined,\n    width: undefined,\n    height: undefined,\n    startX: undefined,\n    startY: undefined,\n    touchesStart: {},\n    touchesCurrent: {}\n  };\n  var velocity = {\n    x: undefined,\n    y: undefined,\n    prevPositionX: undefined,\n    prevPositionY: undefined,\n    prevTime: undefined\n  };\n  var scale = 1;\n  Object.defineProperty(swiper.zoom, 'scale', {\n    get: function get() {\n      return scale;\n    },\n    set: function set(value) {\n      if (scale !== value) {\n        var imageEl = gesture.imageEl;\n        var slideEl = gesture.slideEl;\n        emit('zoomChange', value, imageEl, slideEl);\n      }\n\n      scale = value;\n    }\n  });\n\n  function getDistanceBetweenTouches() {\n    if (evCache.length < 2) return 1;\n    var x1 = evCache[0].pageX;\n    var y1 = evCache[0].pageY;\n    var x2 = evCache[1].pageX;\n    var y2 = evCache[1].pageY;\n    var distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    return distance;\n  }\n\n  function getScaleOrigin() {\n    if (evCache.length < 2) return {\n      x: null,\n      y: null\n    };\n    var box = gesture.imageEl.getBoundingClientRect();\n    return [(evCache[0].pageX + (evCache[1].pageX - evCache[0].pageX) / 2 - box.x) / currentScale, (evCache[0].pageY + (evCache[1].pageY - evCache[0].pageY) / 2 - box.y) / currentScale];\n  }\n\n  function getSlideSelector() {\n    return swiper.isElement ? \"swiper-slide\" : \".\".concat(swiper.params.slideClass);\n  }\n\n  function eventWithinSlide(e) {\n    var slideSelector = getSlideSelector();\n    if (e.target.matches(slideSelector)) return true;\n    if (swiper.slides.filter(function (slideEl) {\n      return slideEl.contains(e.target);\n    }).length > 0) return true;\n    return false;\n  }\n\n  function eventWithinZoomContainer(e) {\n    var selector = \".\".concat(swiper.params.zoom.containerClass);\n    if (e.target.matches(selector)) return true;\n    if (_toConsumableArray(swiper.el.querySelectorAll(selector)).filter(function (containerEl) {\n      return containerEl.contains(e.target);\n    }).length > 0) return true;\n    return false;\n  } // Events\n\n\n  function onGestureStart(e) {\n    if (e.pointerType === 'mouse') {\n      evCache.splice(0, evCache.length);\n    }\n\n    if (!eventWithinSlide(e)) return;\n    var params = swiper.params.zoom;\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n    evCache.push(e);\n\n    if (evCache.length < 2) {\n      return;\n    }\n\n    fakeGestureTouched = true;\n    gesture.scaleStart = getDistanceBetweenTouches();\n\n    if (!gesture.slideEl) {\n      gesture.slideEl = e.target.closest(\".\".concat(swiper.params.slideClass, \", swiper-slide\"));\n      if (!gesture.slideEl) gesture.slideEl = swiper.slides[swiper.activeIndex];\n      var imageEl = gesture.slideEl.querySelector(\".\".concat(params.containerClass));\n\n      if (imageEl) {\n        imageEl = imageEl.querySelectorAll('picture, img, svg, canvas, .swiper-zoom-target')[0];\n      }\n\n      gesture.imageEl = imageEl;\n\n      if (imageEl) {\n        gesture.imageWrapEl = elementParents(gesture.imageEl, \".\".concat(params.containerClass))[0];\n      } else {\n        gesture.imageWrapEl = undefined;\n      }\n\n      if (!gesture.imageWrapEl) {\n        gesture.imageEl = undefined;\n        return;\n      }\n\n      gesture.maxRatio = gesture.imageWrapEl.getAttribute('data-swiper-zoom') || params.maxRatio;\n    }\n\n    if (gesture.imageEl) {\n      var _getScaleOrigin = getScaleOrigin(),\n          _getScaleOrigin2 = _slicedToArray(_getScaleOrigin, 2),\n          originX = _getScaleOrigin2[0],\n          originY = _getScaleOrigin2[1];\n\n      gesture.originX = originX;\n      gesture.originY = originY;\n      gesture.imageEl.style.transitionDuration = '0ms';\n    }\n\n    isScaling = true;\n  }\n\n  function onGestureChange(e) {\n    if (!eventWithinSlide(e)) return;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var pointerIndex = evCache.findIndex(function (cachedEv) {\n      return cachedEv.pointerId === e.pointerId;\n    });\n    if (pointerIndex >= 0) evCache[pointerIndex] = e;\n\n    if (evCache.length < 2) {\n      return;\n    }\n\n    fakeGestureMoved = true;\n    gesture.scaleMove = getDistanceBetweenTouches();\n\n    if (!gesture.imageEl) {\n      return;\n    }\n\n    zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + Math.pow(zoom.scale - gesture.maxRatio + 1, 0.5);\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - Math.pow(params.minRatio - zoom.scale + 1, 0.5);\n    }\n\n    gesture.imageEl.style.transform = \"translate3d(0,0,0) scale(\".concat(zoom.scale, \")\");\n  }\n\n  function onGestureEnd(e) {\n    if (!eventWithinSlide(e)) return;\n    if (e.pointerType === 'mouse' && e.type === 'pointerout') return;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var pointerIndex = evCache.findIndex(function (cachedEv) {\n      return cachedEv.pointerId === e.pointerId;\n    });\n    if (pointerIndex >= 0) evCache.splice(pointerIndex, 1);\n\n    if (!fakeGestureTouched || !fakeGestureMoved) {\n      return;\n    }\n\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n    if (!gesture.imageEl) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.imageEl.style.transitionDuration = \"\".concat(swiper.params.speed, \"ms\");\n    gesture.imageEl.style.transform = \"translate3d(0,0,0) scale(\".concat(zoom.scale, \")\");\n    currentScale = zoom.scale;\n    isScaling = false;\n\n    if (zoom.scale > 1 && gesture.slideEl) {\n      gesture.slideEl.classList.add(\"\".concat(params.zoomedSlideClass));\n    } else if (zoom.scale <= 1 && gesture.slideEl) {\n      gesture.slideEl.classList.remove(\"\".concat(params.zoomedSlideClass));\n    }\n\n    if (zoom.scale === 1) {\n      gesture.originX = 0;\n      gesture.originY = 0;\n      gesture.slideEl = undefined;\n    }\n  }\n\n  function onTouchStart(e) {\n    var device = swiper.device;\n    if (!gesture.imageEl) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    var event = evCache.length > 0 ? evCache[0] : e;\n    image.touchesStart.x = event.pageX;\n    image.touchesStart.y = event.pageY;\n  }\n\n  function onTouchMove(e) {\n    if (!eventWithinSlide(e) || !eventWithinZoomContainer(e)) return;\n    var zoom = swiper.zoom;\n    if (!gesture.imageEl) return;\n    if (!image.isTouched || !gesture.slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.imageEl.offsetWidth;\n      image.height = gesture.imageEl.offsetHeight;\n      image.startX = getTranslate(gesture.imageWrapEl, 'x') || 0;\n      image.startY = getTranslate(gesture.imageWrapEl, 'y') || 0;\n      gesture.slideWidth = gesture.slideEl.offsetWidth;\n      gesture.slideHeight = gesture.slideEl.offsetHeight;\n      gesture.imageWrapEl.style.transitionDuration = '0ms';\n    } // Define if we need image drag\n\n\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = evCache.length > 0 ? evCache[0].pageX : e.pageX;\n    image.touchesCurrent.y = evCache.length > 0 ? evCache[0].pageY : e.pageY;\n    var touchesDiff = Math.max(Math.abs(image.touchesCurrent.x - image.touchesStart.x), Math.abs(image.touchesCurrent.y - image.touchesStart.y));\n\n    if (touchesDiff > 5) {\n      swiper.allowClick = false;\n    }\n\n    if (!image.isMoved && !isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    var scaleRatio = (zoom.scale - currentScale) / (gesture.maxRatio - swiper.params.zoom.minRatio);\n    var originX = gesture.originX,\n        originY = gesture.originY;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX + scaleRatio * (image.width - originX * 2);\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY + scaleRatio * (image.height - originY * 2);\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - Math.pow(image.minX - image.currentX + 1, 0.8);\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + Math.pow(image.currentX - image.maxX + 1, 0.8);\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - Math.pow(image.minY - image.currentY + 1, 0.8);\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + Math.pow(image.currentY - image.maxY + 1, 0.8);\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.imageWrapEl.style.transform = \"translate3d(\".concat(image.currentX, \"px, \").concat(image.currentY, \"px,0)\");\n  }\n\n  function onTouchEnd() {\n    var zoom = swiper.zoom;\n    if (!gesture.imageEl) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    var momentumDurationX = 300;\n    var momentumDurationY = 300;\n    var momentumDistanceX = velocity.x * momentumDurationX;\n    var newPositionX = image.currentX + momentumDistanceX;\n    var momentumDistanceY = velocity.y * momentumDurationY;\n    var newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    var momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.imageWrapEl.style.transitionDuration = \"\".concat(momentumDuration, \"ms\");\n    gesture.imageWrapEl.style.transform = \"translate3d(\".concat(image.currentX, \"px, \").concat(image.currentY, \"px,0)\");\n  }\n\n  function onTransitionEnd() {\n    var zoom = swiper.zoom;\n\n    if (gesture.slideEl && swiper.activeIndex !== swiper.slides.indexOf(gesture.slideEl)) {\n      if (gesture.imageEl) {\n        gesture.imageEl.style.transform = 'translate3d(0,0,0) scale(1)';\n      }\n\n      if (gesture.imageWrapEl) {\n        gesture.imageWrapEl.style.transform = 'translate3d(0,0,0)';\n      }\n\n      gesture.slideEl.classList.remove(\"\".concat(swiper.params.zoom.zoomedSlideClass));\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.slideEl = undefined;\n      gesture.imageEl = undefined;\n      gesture.imageWrapEl = undefined;\n      gesture.originX = 0;\n      gesture.originY = 0;\n    }\n  }\n\n  function zoomIn(e) {\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n\n    if (!gesture.slideEl) {\n      if (e && e.target) {\n        gesture.slideEl = e.target.closest(\".\".concat(swiper.params.slideClass, \", swiper-slide\"));\n      }\n\n      if (!gesture.slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.slideEl = elementChildren(swiper.slidesEl, \".\".concat(swiper.params.slideActiveClass))[0];\n        } else {\n          gesture.slideEl = swiper.slides[swiper.activeIndex];\n        }\n      }\n\n      var imageEl = gesture.slideEl.querySelector(\".\".concat(params.containerClass));\n\n      if (imageEl) {\n        imageEl = imageEl.querySelectorAll('picture, img, svg, canvas, .swiper-zoom-target')[0];\n      }\n\n      gesture.imageEl = imageEl;\n\n      if (imageEl) {\n        gesture.imageWrapEl = elementParents(gesture.imageEl, \".\".concat(params.containerClass))[0];\n      } else {\n        gesture.imageWrapEl = undefined;\n      }\n    }\n\n    if (!gesture.imageEl || !gesture.imageWrapEl) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.touchAction = 'none';\n    }\n\n    gesture.slideEl.classList.add(\"\".concat(params.zoomedSlideClass));\n    var touchX;\n    var touchY;\n    var offsetX;\n    var offsetY;\n    var diffX;\n    var diffY;\n    var translateX;\n    var translateY;\n    var imageWidth;\n    var imageHeight;\n    var scaledWidth;\n    var scaledHeight;\n    var translateMinX;\n    var translateMinY;\n    var translateMaxX;\n    var translateMaxY;\n    var slideWidth;\n    var slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.pageX;\n      touchY = e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    var forceZoomRatio = typeof e === 'number' ? e : null;\n\n    if (currentScale === 1 && forceZoomRatio) {\n      touchX = undefined;\n      touchY = undefined;\n    }\n\n    zoom.scale = forceZoomRatio || gesture.imageWrapEl.getAttribute('data-swiper-zoom') || params.maxRatio;\n    currentScale = forceZoomRatio || gesture.imageWrapEl.getAttribute('data-swiper-zoom') || params.maxRatio;\n\n    if (e && !(currentScale === 1 && forceZoomRatio)) {\n      slideWidth = gesture.slideEl.offsetWidth;\n      slideHeight = gesture.slideEl.offsetHeight;\n      offsetX = elementOffset(gesture.slideEl).left + window.scrollX;\n      offsetY = elementOffset(gesture.slideEl).top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.imageEl.offsetWidth;\n      imageHeight = gesture.imageEl.offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    if (forceZoomRatio && zoom.scale === 1) {\n      gesture.originX = 0;\n      gesture.originY = 0;\n    }\n\n    gesture.imageWrapEl.style.transitionDuration = '300ms';\n    gesture.imageWrapEl.style.transform = \"translate3d(\".concat(translateX, \"px, \").concat(translateY, \"px,0)\");\n    gesture.imageEl.style.transitionDuration = '300ms';\n    gesture.imageEl.style.transform = \"translate3d(0,0,0) scale(\".concat(zoom.scale, \")\");\n  }\n\n  function zoomOut() {\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n\n    if (!gesture.slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.slideEl = elementChildren(swiper.slidesEl, \".\".concat(swiper.params.slideActiveClass))[0];\n      } else {\n        gesture.slideEl = swiper.slides[swiper.activeIndex];\n      }\n\n      var imageEl = gesture.slideEl.querySelector(\".\".concat(params.containerClass));\n\n      if (imageEl) {\n        imageEl = imageEl.querySelectorAll('picture, img, svg, canvas, .swiper-zoom-target')[0];\n      }\n\n      gesture.imageEl = imageEl;\n\n      if (imageEl) {\n        gesture.imageWrapEl = elementParents(gesture.imageEl, \".\".concat(params.containerClass))[0];\n      } else {\n        gesture.imageWrapEl = undefined;\n      }\n    }\n\n    if (!gesture.imageEl || !gesture.imageWrapEl) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = '';\n      swiper.wrapperEl.style.touchAction = '';\n    }\n\n    zoom.scale = 1;\n    currentScale = 1;\n    gesture.imageWrapEl.style.transitionDuration = '300ms';\n    gesture.imageWrapEl.style.transform = 'translate3d(0,0,0)';\n    gesture.imageEl.style.transitionDuration = '300ms';\n    gesture.imageEl.style.transform = 'translate3d(0,0,0) scale(1)';\n    gesture.slideEl.classList.remove(\"\".concat(params.zoomedSlideClass));\n    gesture.slideEl = undefined;\n    gesture.originX = 0;\n    gesture.originY = 0;\n  } // Toggle Zoom\n\n\n  function zoomToggle(e) {\n    var zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoomOut();\n    } else {\n      // Zoom In\n      zoomIn(e);\n    }\n  }\n\n  function getListeners() {\n    var passiveListener = swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    var activeListenerWithCapture = swiper.params.passiveListeners ? {\n      passive: false,\n      capture: true\n    } : true;\n    return {\n      passiveListener: passiveListener,\n      activeListenerWithCapture: activeListenerWithCapture\n    };\n  } // Attach/Detach Events\n\n\n  function enable() {\n    var zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n\n    var _getListeners = getListeners(),\n        passiveListener = _getListeners.passiveListener,\n        activeListenerWithCapture = _getListeners.activeListenerWithCapture; // Scale image\n\n\n    swiper.wrapperEl.addEventListener('pointerdown', onGestureStart, passiveListener);\n    swiper.wrapperEl.addEventListener('pointermove', onGestureChange, activeListenerWithCapture);\n    ['pointerup', 'pointercancel', 'pointerout'].forEach(function (eventName) {\n      swiper.wrapperEl.addEventListener(eventName, onGestureEnd, passiveListener);\n    }); // Move image\n\n    swiper.wrapperEl.addEventListener('pointermove', onTouchMove, activeListenerWithCapture);\n  }\n\n  function disable() {\n    var zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    zoom.enabled = false;\n\n    var _getListeners2 = getListeners(),\n        passiveListener = _getListeners2.passiveListener,\n        activeListenerWithCapture = _getListeners2.activeListenerWithCapture; // Scale image\n\n\n    swiper.wrapperEl.removeEventListener('pointerdown', onGestureStart, passiveListener);\n    swiper.wrapperEl.removeEventListener('pointermove', onGestureChange, activeListenerWithCapture);\n    ['pointerup', 'pointercancel', 'pointerout'].forEach(function (eventName) {\n      swiper.wrapperEl.removeEventListener(eventName, onGestureEnd, passiveListener);\n    }); // Move image\n\n    swiper.wrapperEl.removeEventListener('pointermove', onTouchMove, activeListenerWithCapture);\n  }\n\n  on('init', function () {\n    if (swiper.params.zoom.enabled) {\n      enable();\n    }\n  });\n  on('destroy', function () {\n    disable();\n  });\n  on('touchStart', function (_s, e) {\n    if (!swiper.zoom.enabled) return;\n    onTouchStart(e);\n  });\n  on('touchEnd', function (_s, e) {\n    if (!swiper.zoom.enabled) return;\n    onTouchEnd(e);\n  });\n  on('doubleTap', function (_s, e) {\n    if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n      zoomToggle(e);\n    }\n  });\n  on('transitionEnd', function () {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n      onTransitionEnd();\n    }\n  });\n  on('slideChange', function () {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n      onTransitionEnd();\n    }\n  });\n  Object.assign(swiper.zoom, {\n    enable: enable,\n    disable: disable,\n    in: zoomIn,\n    out: zoomOut,\n    toggle: zoomToggle\n  });\n}","map":{"version":3,"names":["getWindow","elementChildren","elementOffset","elementParents","getTranslate","Zoom","swiper","extendParams","on","emit","window","zoom","enabled","maxRatio","minRatio","toggle","containerClass","zoomedSlideClass","currentScale","isScaling","fakeGestureTouched","fakeGestureMoved","evCache","gesture","originX","originY","slideEl","undefined","slideWidth","slideHeight","imageEl","imageWrapEl","image","isTouched","isMoved","currentX","currentY","minX","minY","maxX","maxY","width","height","startX","startY","touchesStart","touchesCurrent","velocity","x","y","prevPositionX","prevPositionY","prevTime","scale","Object","defineProperty","get","set","value","getDistanceBetweenTouches","length","x1","pageX","y1","pageY","x2","y2","distance","Math","sqrt","getScaleOrigin","box","getBoundingClientRect","getSlideSelector","isElement","params","slideClass","eventWithinSlide","e","slideSelector","target","matches","slides","filter","contains","eventWithinZoomContainer","selector","el","querySelectorAll","containerEl","onGestureStart","pointerType","splice","push","scaleStart","closest","activeIndex","querySelector","getAttribute","style","transitionDuration","onGestureChange","pointerIndex","findIndex","cachedEv","pointerId","scaleMove","transform","onGestureEnd","type","max","min","speed","classList","add","remove","onTouchStart","device","android","cancelable","preventDefault","event","onTouchMove","offsetWidth","offsetHeight","scaledWidth","scaledHeight","touchesDiff","abs","allowClick","isHorizontal","floor","stopPropagation","scaleRatio","Date","now","onTouchEnd","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","onTransitionEnd","indexOf","zoomIn","virtual","slidesEl","slideActiveClass","cssMode","wrapperEl","overflow","touchAction","touchX","touchY","offsetX","offsetY","diffX","diffY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","forceZoomRatio","left","scrollX","top","scrollY","zoomOut","zoomToggle","getListeners","passiveListener","passiveListeners","passive","capture","activeListenerWithCapture","enable","addEventListener","forEach","eventName","disable","removeEventListener","_s","animating","assign","in","out"],"sources":["/Users/crushedsummers/Desktop/Work/Application/portfolio22/node_modules/swiper/modules/zoom/zoom.js"],"sourcesContent":["import { getWindow } from 'ssr-window';\nimport { elementChildren, elementOffset, elementParents, getTranslate } from '../../shared/utils.js';\nexport default function Zoom({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  extendParams({\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  });\n  swiper.zoom = {\n    enabled: false\n  };\n  let currentScale = 1;\n  let isScaling = false;\n  let fakeGestureTouched;\n  let fakeGestureMoved;\n  const evCache = [];\n  const gesture = {\n    originX: 0,\n    originY: 0,\n    slideEl: undefined,\n    slideWidth: undefined,\n    slideHeight: undefined,\n    imageEl: undefined,\n    imageWrapEl: undefined,\n    maxRatio: 3\n  };\n  const image = {\n    isTouched: undefined,\n    isMoved: undefined,\n    currentX: undefined,\n    currentY: undefined,\n    minX: undefined,\n    minY: undefined,\n    maxX: undefined,\n    maxY: undefined,\n    width: undefined,\n    height: undefined,\n    startX: undefined,\n    startY: undefined,\n    touchesStart: {},\n    touchesCurrent: {}\n  };\n  const velocity = {\n    x: undefined,\n    y: undefined,\n    prevPositionX: undefined,\n    prevPositionY: undefined,\n    prevTime: undefined\n  };\n  let scale = 1;\n  Object.defineProperty(swiper.zoom, 'scale', {\n    get() {\n      return scale;\n    },\n    set(value) {\n      if (scale !== value) {\n        const imageEl = gesture.imageEl;\n        const slideEl = gesture.slideEl;\n        emit('zoomChange', value, imageEl, slideEl);\n      }\n      scale = value;\n    }\n  });\n  function getDistanceBetweenTouches() {\n    if (evCache.length < 2) return 1;\n    const x1 = evCache[0].pageX;\n    const y1 = evCache[0].pageY;\n    const x2 = evCache[1].pageX;\n    const y2 = evCache[1].pageY;\n    const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n    return distance;\n  }\n  function getScaleOrigin() {\n    if (evCache.length < 2) return {\n      x: null,\n      y: null\n    };\n    const box = gesture.imageEl.getBoundingClientRect();\n    return [(evCache[0].pageX + (evCache[1].pageX - evCache[0].pageX) / 2 - box.x) / currentScale, (evCache[0].pageY + (evCache[1].pageY - evCache[0].pageY) / 2 - box.y) / currentScale];\n  }\n  function getSlideSelector() {\n    return swiper.isElement ? `swiper-slide` : `.${swiper.params.slideClass}`;\n  }\n  function eventWithinSlide(e) {\n    const slideSelector = getSlideSelector();\n    if (e.target.matches(slideSelector)) return true;\n    if (swiper.slides.filter(slideEl => slideEl.contains(e.target)).length > 0) return true;\n    return false;\n  }\n  function eventWithinZoomContainer(e) {\n    const selector = `.${swiper.params.zoom.containerClass}`;\n    if (e.target.matches(selector)) return true;\n    if ([...swiper.el.querySelectorAll(selector)].filter(containerEl => containerEl.contains(e.target)).length > 0) return true;\n    return false;\n  }\n\n  // Events\n  function onGestureStart(e) {\n    if (e.pointerType === 'mouse') {\n      evCache.splice(0, evCache.length);\n    }\n    if (!eventWithinSlide(e)) return;\n    const params = swiper.params.zoom;\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n    evCache.push(e);\n    if (evCache.length < 2) {\n      return;\n    }\n    fakeGestureTouched = true;\n    gesture.scaleStart = getDistanceBetweenTouches();\n    if (!gesture.slideEl) {\n      gesture.slideEl = e.target.closest(`.${swiper.params.slideClass}, swiper-slide`);\n      if (!gesture.slideEl) gesture.slideEl = swiper.slides[swiper.activeIndex];\n      let imageEl = gesture.slideEl.querySelector(`.${params.containerClass}`);\n      if (imageEl) {\n        imageEl = imageEl.querySelectorAll('picture, img, svg, canvas, .swiper-zoom-target')[0];\n      }\n      gesture.imageEl = imageEl;\n      if (imageEl) {\n        gesture.imageWrapEl = elementParents(gesture.imageEl, `.${params.containerClass}`)[0];\n      } else {\n        gesture.imageWrapEl = undefined;\n      }\n      if (!gesture.imageWrapEl) {\n        gesture.imageEl = undefined;\n        return;\n      }\n      gesture.maxRatio = gesture.imageWrapEl.getAttribute('data-swiper-zoom') || params.maxRatio;\n    }\n    if (gesture.imageEl) {\n      const [originX, originY] = getScaleOrigin();\n      gesture.originX = originX;\n      gesture.originY = originY;\n      gesture.imageEl.style.transitionDuration = '0ms';\n    }\n    isScaling = true;\n  }\n  function onGestureChange(e) {\n    if (!eventWithinSlide(e)) return;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n    const pointerIndex = evCache.findIndex(cachedEv => cachedEv.pointerId === e.pointerId);\n    if (pointerIndex >= 0) evCache[pointerIndex] = e;\n    if (evCache.length < 2) {\n      return;\n    }\n    fakeGestureMoved = true;\n    gesture.scaleMove = getDistanceBetweenTouches();\n    if (!gesture.imageEl) {\n      return;\n    }\n    zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n    }\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n    }\n    gesture.imageEl.style.transform = `translate3d(0,0,0) scale(${zoom.scale})`;\n  }\n  function onGestureEnd(e) {\n    if (!eventWithinSlide(e)) return;\n    if (e.pointerType === 'mouse' && e.type === 'pointerout') return;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n    const pointerIndex = evCache.findIndex(cachedEv => cachedEv.pointerId === e.pointerId);\n    if (pointerIndex >= 0) evCache.splice(pointerIndex, 1);\n    if (!fakeGestureTouched || !fakeGestureMoved) {\n      return;\n    }\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n    if (!gesture.imageEl) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.imageEl.style.transitionDuration = `${swiper.params.speed}ms`;\n    gesture.imageEl.style.transform = `translate3d(0,0,0) scale(${zoom.scale})`;\n    currentScale = zoom.scale;\n    isScaling = false;\n    if (zoom.scale > 1 && gesture.slideEl) {\n      gesture.slideEl.classList.add(`${params.zoomedSlideClass}`);\n    } else if (zoom.scale <= 1 && gesture.slideEl) {\n      gesture.slideEl.classList.remove(`${params.zoomedSlideClass}`);\n    }\n    if (zoom.scale === 1) {\n      gesture.originX = 0;\n      gesture.originY = 0;\n      gesture.slideEl = undefined;\n    }\n  }\n  function onTouchStart(e) {\n    const device = swiper.device;\n    if (!gesture.imageEl) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    const event = evCache.length > 0 ? evCache[0] : e;\n    image.touchesStart.x = event.pageX;\n    image.touchesStart.y = event.pageY;\n  }\n  function onTouchMove(e) {\n    if (!eventWithinSlide(e) || !eventWithinZoomContainer(e)) return;\n    const zoom = swiper.zoom;\n    if (!gesture.imageEl) return;\n    if (!image.isTouched || !gesture.slideEl) return;\n    if (!image.isMoved) {\n      image.width = gesture.imageEl.offsetWidth;\n      image.height = gesture.imageEl.offsetHeight;\n      image.startX = getTranslate(gesture.imageWrapEl, 'x') || 0;\n      image.startY = getTranslate(gesture.imageWrapEl, 'y') || 0;\n      gesture.slideWidth = gesture.slideEl.offsetWidth;\n      gesture.slideHeight = gesture.slideEl.offsetHeight;\n      gesture.imageWrapEl.style.transitionDuration = '0ms';\n    }\n    // Define if we need image drag\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = evCache.length > 0 ? evCache[0].pageX : e.pageX;\n    image.touchesCurrent.y = evCache.length > 0 ? evCache[0].pageY : e.pageY;\n    const touchesDiff = Math.max(Math.abs(image.touchesCurrent.x - image.touchesStart.x), Math.abs(image.touchesCurrent.y - image.touchesStart.y));\n    if (touchesDiff > 5) {\n      swiper.allowClick = false;\n    }\n    if (!image.isMoved && !isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n    e.stopPropagation();\n    image.isMoved = true;\n    const scaleRatio = (zoom.scale - currentScale) / (gesture.maxRatio - swiper.params.zoom.minRatio);\n    const {\n      originX,\n      originY\n    } = gesture;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX + scaleRatio * (image.width - originX * 2);\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY + scaleRatio * (image.height - originY * 2);\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n    }\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n    }\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n    }\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n    }\n\n    // Velocity\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.imageWrapEl.style.transform = `translate3d(${image.currentX}px, ${image.currentY}px,0)`;\n  }\n  function onTouchEnd() {\n    const zoom = swiper.zoom;\n    if (!gesture.imageEl) return;\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n    image.isTouched = false;\n    image.isMoved = false;\n    let momentumDurationX = 300;\n    let momentumDurationY = 300;\n    const momentumDistanceX = velocity.x * momentumDurationX;\n    const newPositionX = image.currentX + momentumDistanceX;\n    const momentumDistanceY = velocity.y * momentumDurationY;\n    const newPositionY = image.currentY + momentumDistanceY;\n\n    // Fix duration\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY;\n    // Define if we need image drag\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.imageWrapEl.style.transitionDuration = `${momentumDuration}ms`;\n    gesture.imageWrapEl.style.transform = `translate3d(${image.currentX}px, ${image.currentY}px,0)`;\n  }\n  function onTransitionEnd() {\n    const zoom = swiper.zoom;\n    if (gesture.slideEl && swiper.activeIndex !== swiper.slides.indexOf(gesture.slideEl)) {\n      if (gesture.imageEl) {\n        gesture.imageEl.style.transform = 'translate3d(0,0,0) scale(1)';\n      }\n      if (gesture.imageWrapEl) {\n        gesture.imageWrapEl.style.transform = 'translate3d(0,0,0)';\n      }\n      gesture.slideEl.classList.remove(`${swiper.params.zoom.zoomedSlideClass}`);\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.slideEl = undefined;\n      gesture.imageEl = undefined;\n      gesture.imageWrapEl = undefined;\n      gesture.originX = 0;\n      gesture.originY = 0;\n    }\n  }\n  function zoomIn(e) {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n    if (!gesture.slideEl) {\n      if (e && e.target) {\n        gesture.slideEl = e.target.closest(`.${swiper.params.slideClass}, swiper-slide`);\n      }\n      if (!gesture.slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.slideEl = elementChildren(swiper.slidesEl, `.${swiper.params.slideActiveClass}`)[0];\n        } else {\n          gesture.slideEl = swiper.slides[swiper.activeIndex];\n        }\n      }\n      let imageEl = gesture.slideEl.querySelector(`.${params.containerClass}`);\n      if (imageEl) {\n        imageEl = imageEl.querySelectorAll('picture, img, svg, canvas, .swiper-zoom-target')[0];\n      }\n      gesture.imageEl = imageEl;\n      if (imageEl) {\n        gesture.imageWrapEl = elementParents(gesture.imageEl, `.${params.containerClass}`)[0];\n      } else {\n        gesture.imageWrapEl = undefined;\n      }\n    }\n    if (!gesture.imageEl || !gesture.imageWrapEl) return;\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.touchAction = 'none';\n    }\n    gesture.slideEl.classList.add(`${params.zoomedSlideClass}`);\n    let touchX;\n    let touchY;\n    let offsetX;\n    let offsetY;\n    let diffX;\n    let diffY;\n    let translateX;\n    let translateY;\n    let imageWidth;\n    let imageHeight;\n    let scaledWidth;\n    let scaledHeight;\n    let translateMinX;\n    let translateMinY;\n    let translateMaxX;\n    let translateMaxY;\n    let slideWidth;\n    let slideHeight;\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.pageX;\n      touchY = e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n    const forceZoomRatio = typeof e === 'number' ? e : null;\n    if (currentScale === 1 && forceZoomRatio) {\n      touchX = undefined;\n      touchY = undefined;\n    }\n    zoom.scale = forceZoomRatio || gesture.imageWrapEl.getAttribute('data-swiper-zoom') || params.maxRatio;\n    currentScale = forceZoomRatio || gesture.imageWrapEl.getAttribute('data-swiper-zoom') || params.maxRatio;\n    if (e && !(currentScale === 1 && forceZoomRatio)) {\n      slideWidth = gesture.slideEl.offsetWidth;\n      slideHeight = gesture.slideEl.offsetHeight;\n      offsetX = elementOffset(gesture.slideEl).left + window.scrollX;\n      offsetY = elementOffset(gesture.slideEl).top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.imageEl.offsetWidth;\n      imageHeight = gesture.imageEl.offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n    if (forceZoomRatio && zoom.scale === 1) {\n      gesture.originX = 0;\n      gesture.originY = 0;\n    }\n    gesture.imageWrapEl.style.transitionDuration = '300ms';\n    gesture.imageWrapEl.style.transform = `translate3d(${translateX}px, ${translateY}px,0)`;\n    gesture.imageEl.style.transitionDuration = '300ms';\n    gesture.imageEl.style.transform = `translate3d(0,0,0) scale(${zoom.scale})`;\n  }\n  function zoomOut() {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n    if (!gesture.slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.slideEl = elementChildren(swiper.slidesEl, `.${swiper.params.slideActiveClass}`)[0];\n      } else {\n        gesture.slideEl = swiper.slides[swiper.activeIndex];\n      }\n      let imageEl = gesture.slideEl.querySelector(`.${params.containerClass}`);\n      if (imageEl) {\n        imageEl = imageEl.querySelectorAll('picture, img, svg, canvas, .swiper-zoom-target')[0];\n      }\n      gesture.imageEl = imageEl;\n      if (imageEl) {\n        gesture.imageWrapEl = elementParents(gesture.imageEl, `.${params.containerClass}`)[0];\n      } else {\n        gesture.imageWrapEl = undefined;\n      }\n    }\n    if (!gesture.imageEl || !gesture.imageWrapEl) return;\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = '';\n      swiper.wrapperEl.style.touchAction = '';\n    }\n    zoom.scale = 1;\n    currentScale = 1;\n    gesture.imageWrapEl.style.transitionDuration = '300ms';\n    gesture.imageWrapEl.style.transform = 'translate3d(0,0,0)';\n    gesture.imageEl.style.transitionDuration = '300ms';\n    gesture.imageEl.style.transform = 'translate3d(0,0,0) scale(1)';\n    gesture.slideEl.classList.remove(`${params.zoomedSlideClass}`);\n    gesture.slideEl = undefined;\n    gesture.originX = 0;\n    gesture.originY = 0;\n  }\n\n  // Toggle Zoom\n  function zoomToggle(e) {\n    const zoom = swiper.zoom;\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoomOut();\n    } else {\n      // Zoom In\n      zoomIn(e);\n    }\n  }\n  function getListeners() {\n    const passiveListener = swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    const activeListenerWithCapture = swiper.params.passiveListeners ? {\n      passive: false,\n      capture: true\n    } : true;\n    return {\n      passiveListener,\n      activeListenerWithCapture\n    };\n  }\n\n  // Attach/Detach Events\n  function enable() {\n    const zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n\n    // Scale image\n    swiper.wrapperEl.addEventListener('pointerdown', onGestureStart, passiveListener);\n    swiper.wrapperEl.addEventListener('pointermove', onGestureChange, activeListenerWithCapture);\n    ['pointerup', 'pointercancel', 'pointerout'].forEach(eventName => {\n      swiper.wrapperEl.addEventListener(eventName, onGestureEnd, passiveListener);\n    });\n\n    // Move image\n    swiper.wrapperEl.addEventListener('pointermove', onTouchMove, activeListenerWithCapture);\n  }\n  function disable() {\n    const zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    zoom.enabled = false;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n\n    // Scale image\n    swiper.wrapperEl.removeEventListener('pointerdown', onGestureStart, passiveListener);\n    swiper.wrapperEl.removeEventListener('pointermove', onGestureChange, activeListenerWithCapture);\n    ['pointerup', 'pointercancel', 'pointerout'].forEach(eventName => {\n      swiper.wrapperEl.removeEventListener(eventName, onGestureEnd, passiveListener);\n    });\n\n    // Move image\n    swiper.wrapperEl.removeEventListener('pointermove', onTouchMove, activeListenerWithCapture);\n  }\n  on('init', () => {\n    if (swiper.params.zoom.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    disable();\n  });\n  on('touchStart', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchStart(e);\n  });\n  on('touchEnd', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchEnd(e);\n  });\n  on('doubleTap', (_s, e) => {\n    if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n      zoomToggle(e);\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n      onTransitionEnd();\n    }\n  });\n  on('slideChange', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n      onTransitionEnd();\n    }\n  });\n  Object.assign(swiper.zoom, {\n    enable,\n    disable,\n    in: zoomIn,\n    out: zoomOut,\n    toggle: zoomToggle\n  });\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}