{"ast":null,"code":"import _slicedToArray from \"/Users/crushedsummers/Desktop/Work/Application/portfolio22/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { Line } from '../../core/Line.js';\nimport { Html } from '../Html.js';\nimport { context } from './context.js';\n\nvar decomposeIntoBasis = function decomposeIntoBasis(e1, e2, offset) {\n  var i1 = Math.abs(e1.x) >= Math.abs(e1.y) && Math.abs(e1.x) >= Math.abs(e1.z) ? 0 : Math.abs(e1.y) >= Math.abs(e1.x) && Math.abs(e1.y) >= Math.abs(e1.z) ? 1 : 2;\n  var e2DegrowthOrder = [0, 1, 2].sort(function (a, b) {\n    return Math.abs(e2.getComponent(b)) - Math.abs(e2.getComponent(a));\n  });\n  var i2 = i1 === e2DegrowthOrder[0] ? e2DegrowthOrder[1] : e2DegrowthOrder[0];\n  var a1 = e1.getComponent(i1);\n  var a2 = e1.getComponent(i2);\n  var b1 = e2.getComponent(i1);\n  var b2 = e2.getComponent(i2);\n  var c1 = offset.getComponent(i1);\n  var c2 = offset.getComponent(i2);\n  var y = (c2 - c1 * (a2 / a1)) / (b2 - b1 * (a2 / a1));\n  var x = (c1 - y * b1) / a1;\n  return [x, y];\n};\n\nvar ray = new THREE.Ray();\nvar intersection = new THREE.Vector3();\nvar offsetMatrix = new THREE.Matrix4();\n\nvar PlaneSlider = function PlaneSlider(_ref) {\n  var dir1 = _ref.dir1,\n      dir2 = _ref.dir2,\n      axis = _ref.axis;\n\n  var _React$useContext = React.useContext(context),\n      translation = _React$useContext.translation,\n      translationLimits = _React$useContext.translationLimits,\n      annotations = _React$useContext.annotations,\n      annotationsClass = _React$useContext.annotationsClass,\n      depthTest = _React$useContext.depthTest,\n      scale = _React$useContext.scale,\n      lineWidth = _React$useContext.lineWidth,\n      fixed = _React$useContext.fixed,\n      axisColors = _React$useContext.axisColors,\n      hoveredColor = _React$useContext.hoveredColor,\n      opacity = _React$useContext.opacity,\n      onDragStart = _React$useContext.onDragStart,\n      onDrag = _React$useContext.onDrag,\n      onDragEnd = _React$useContext.onDragEnd,\n      userData = _React$useContext.userData; // @ts-expect-error new in @react-three/fiber@7.0.5\n\n\n  var camControls = useThree(function (state) {\n    return state.controls;\n  });\n  var divRef = React.useRef(null);\n  var objRef = React.useRef(null);\n  var clickInfo = React.useRef(null);\n  var offsetX0 = React.useRef(0);\n  var offsetY0 = React.useRef(0);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isHovered = _React$useState2[0],\n      setIsHovered = _React$useState2[1];\n\n  var onPointerDown = React.useCallback(function (e) {\n    if (annotations) {\n      divRef.current.innerText = \"\".concat(translation.current[(axis + 1) % 3].toFixed(2), \", \").concat(translation.current[(axis + 2) % 3].toFixed(2));\n      divRef.current.style.display = 'block';\n    }\n\n    e.stopPropagation();\n    var clickPoint = e.point.clone();\n    var origin = new THREE.Vector3().setFromMatrixPosition(objRef.current.matrixWorld);\n    var e1 = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 0).normalize();\n    var e2 = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 1).normalize();\n    var normal = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 2).normalize();\n    var plane = new THREE.Plane().setFromNormalAndCoplanarPoint(normal, origin);\n    clickInfo.current = {\n      clickPoint: clickPoint,\n      e1: e1,\n      e2: e2,\n      plane: plane\n    };\n    offsetX0.current = translation.current[(axis + 1) % 3];\n    offsetY0.current = translation.current[(axis + 2) % 3];\n    onDragStart({\n      component: 'Slider',\n      axis: axis,\n      origin: origin,\n      directions: [e1, e2, normal]\n    });\n    camControls && (camControls.enabled = false); // @ts-ignore\n\n    e.target.setPointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragStart, axis]);\n  var onPointerMove = React.useCallback(function (e) {\n    e.stopPropagation();\n    if (!isHovered) setIsHovered(true);\n\n    if (clickInfo.current) {\n      var _clickInfo$current = clickInfo.current,\n          clickPoint = _clickInfo$current.clickPoint,\n          e1 = _clickInfo$current.e1,\n          e2 = _clickInfo$current.e2,\n          plane = _clickInfo$current.plane;\n\n      var _ref2 = (translationLimits == null ? void 0 : translationLimits[(axis + 1) % 3]) || [undefined, undefined],\n          _ref3 = _slicedToArray(_ref2, 2),\n          minX = _ref3[0],\n          maxX = _ref3[1];\n\n      var _ref4 = (translationLimits == null ? void 0 : translationLimits[(axis + 2) % 3]) || [undefined, undefined],\n          _ref5 = _slicedToArray(_ref4, 2),\n          minY = _ref5[0],\n          maxY = _ref5[1];\n\n      ray.copy(e.ray);\n      ray.intersectPlane(plane, intersection);\n      ray.direction.negate();\n      ray.intersectPlane(plane, intersection);\n      intersection.sub(clickPoint);\n\n      var _decomposeIntoBasis = decomposeIntoBasis(e1, e2, intersection),\n          _decomposeIntoBasis2 = _slicedToArray(_decomposeIntoBasis, 2),\n          offsetX = _decomposeIntoBasis2[0],\n          offsetY = _decomposeIntoBasis2[1];\n      /* let offsetY = (intersection.y - (intersection.x * e1.y) / e1.x) / (e2.y - (e2.x * e1.y) / e1.x)\n      let offsetX = (intersection.x - offsetY * e2.x) / e1.x */\n\n\n      if (minX !== undefined) {\n        offsetX = Math.max(offsetX, minX - offsetX0.current);\n      }\n\n      if (maxX !== undefined) {\n        offsetX = Math.min(offsetX, maxX - offsetX0.current);\n      }\n\n      if (minY !== undefined) {\n        offsetY = Math.max(offsetY, minY - offsetY0.current);\n      }\n\n      if (maxY !== undefined) {\n        offsetY = Math.min(offsetY, maxY - offsetY0.current);\n      }\n\n      translation.current[(axis + 1) % 3] = offsetX0.current + offsetX;\n      translation.current[(axis + 2) % 3] = offsetY0.current + offsetY;\n\n      if (annotations) {\n        divRef.current.innerText = \"\".concat(translation.current[(axis + 1) % 3].toFixed(2), \", \").concat(translation.current[(axis + 2) % 3].toFixed(2));\n      }\n\n      offsetMatrix.makeTranslation(offsetX * e1.x + offsetY * e2.x, offsetX * e1.y + offsetY * e2.y, offsetX * e1.z + offsetY * e2.z);\n      onDrag(offsetMatrix);\n    }\n  }, [annotations, onDrag, isHovered, translation, translationLimits, axis]);\n  var onPointerUp = React.useCallback(function (e) {\n    if (annotations) {\n      divRef.current.style.display = 'none';\n    }\n\n    e.stopPropagation();\n    clickInfo.current = null;\n    onDragEnd();\n    camControls && (camControls.enabled = true); // @ts-ignore\n\n    e.target.releasePointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragEnd]);\n  var onPointerOut = React.useCallback(function (e) {\n    e.stopPropagation();\n    setIsHovered(false);\n  }, []);\n  var matrixL = React.useMemo(function () {\n    var dir1N = dir1.clone().normalize();\n    var dir2N = dir2.clone().normalize();\n    return new THREE.Matrix4().makeBasis(dir1N, dir2N, dir1N.clone().cross(dir2N));\n  }, [dir1, dir2]);\n  var pos1 = fixed ? 1 / 7 : scale / 7;\n  var length = fixed ? 0.225 : scale * 0.225;\n  var color = isHovered ? hoveredColor : axisColors[axis];\n  var points = React.useMemo(function () {\n    return [new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, length, 0), new THREE.Vector3(length, length, 0), new THREE.Vector3(length, 0, 0), new THREE.Vector3(0, 0, 0)];\n  }, [length]);\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: objRef,\n    matrix: matrixL,\n    matrixAutoUpdate: false\n  }, annotations && /*#__PURE__*/React.createElement(Html, {\n    position: [0, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none',\n      background: '#151520',\n      color: 'white',\n      padding: '6px 8px',\n      borderRadius: 7,\n      whiteSpace: 'nowrap'\n    },\n    className: annotationsClass,\n    ref: divRef\n  })), /*#__PURE__*/React.createElement(\"group\", {\n    position: [pos1 * 1.7, pos1 * 1.7, 0]\n  }, /*#__PURE__*/React.createElement(\"mesh\", {\n    visible: true,\n    onPointerDown: onPointerDown,\n    onPointerMove: onPointerMove,\n    onPointerUp: onPointerUp,\n    onPointerOut: onPointerOut,\n    scale: length,\n    userData: userData\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    depthTest: depthTest,\n    color: color,\n    polygonOffset: true,\n    polygonOffsetFactor: -10,\n    side: THREE.DoubleSide,\n    fog: false\n  })), /*#__PURE__*/React.createElement(Line, {\n    position: [-length / 2, -length / 2, 0],\n    transparent: true,\n    depthTest: depthTest,\n    points: points,\n    lineWidth: lineWidth,\n    color: color,\n    opacity: opacity,\n    polygonOffset: true,\n    polygonOffsetFactor: -10,\n    userData: userData,\n    fog: false\n  })));\n};\n\nexport { PlaneSlider };","map":{"version":3,"names":["React","THREE","useThree","Line","Html","context","decomposeIntoBasis","e1","e2","offset","i1","Math","abs","x","y","z","e2DegrowthOrder","sort","a","b","getComponent","i2","a1","a2","b1","b2","c1","c2","ray","Ray","intersection","Vector3","offsetMatrix","Matrix4","PlaneSlider","dir1","dir2","axis","useContext","translation","translationLimits","annotations","annotationsClass","depthTest","scale","lineWidth","fixed","axisColors","hoveredColor","opacity","onDragStart","onDrag","onDragEnd","userData","camControls","state","controls","divRef","useRef","objRef","clickInfo","offsetX0","offsetY0","useState","isHovered","setIsHovered","onPointerDown","useCallback","e","current","innerText","toFixed","style","display","stopPropagation","clickPoint","point","clone","origin","setFromMatrixPosition","matrixWorld","setFromMatrixColumn","normalize","normal","plane","Plane","setFromNormalAndCoplanarPoint","component","directions","enabled","target","setPointerCapture","pointerId","onPointerMove","undefined","minX","maxX","minY","maxY","copy","intersectPlane","direction","negate","sub","offsetX","offsetY","max","min","makeTranslation","onPointerUp","releasePointerCapture","onPointerOut","matrixL","useMemo","dir1N","dir2N","makeBasis","cross","pos1","length","color","points","createElement","ref","matrix","matrixAutoUpdate","position","background","padding","borderRadius","whiteSpace","className","visible","transparent","polygonOffset","polygonOffsetFactor","side","DoubleSide","fog"],"sources":["/Users/crushedsummers/Desktop/Work/Application/portfolio22/node_modules/@react-three/drei/web/pivotControls/PlaneSlider.js"],"sourcesContent":["import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { Line } from '../../core/Line.js';\nimport { Html } from '../Html.js';\nimport { context } from './context.js';\n\nconst decomposeIntoBasis = (e1, e2, offset) => {\n  const i1 = Math.abs(e1.x) >= Math.abs(e1.y) && Math.abs(e1.x) >= Math.abs(e1.z) ? 0 : Math.abs(e1.y) >= Math.abs(e1.x) && Math.abs(e1.y) >= Math.abs(e1.z) ? 1 : 2;\n  const e2DegrowthOrder = [0, 1, 2].sort((a, b) => Math.abs(e2.getComponent(b)) - Math.abs(e2.getComponent(a)));\n  const i2 = i1 === e2DegrowthOrder[0] ? e2DegrowthOrder[1] : e2DegrowthOrder[0];\n  const a1 = e1.getComponent(i1);\n  const a2 = e1.getComponent(i2);\n  const b1 = e2.getComponent(i1);\n  const b2 = e2.getComponent(i2);\n  const c1 = offset.getComponent(i1);\n  const c2 = offset.getComponent(i2);\n  const y = (c2 - c1 * (a2 / a1)) / (b2 - b1 * (a2 / a1));\n  const x = (c1 - y * b1) / a1;\n  return [x, y];\n};\n\nconst ray = new THREE.Ray();\nconst intersection = new THREE.Vector3();\nconst offsetMatrix = new THREE.Matrix4();\nconst PlaneSlider = ({\n  dir1,\n  dir2,\n  axis\n}) => {\n  const {\n    translation,\n    translationLimits,\n    annotations,\n    annotationsClass,\n    depthTest,\n    scale,\n    lineWidth,\n    fixed,\n    axisColors,\n    hoveredColor,\n    opacity,\n    onDragStart,\n    onDrag,\n    onDragEnd,\n    userData\n  } = React.useContext(context); // @ts-expect-error new in @react-three/fiber@7.0.5\n\n  const camControls = useThree(state => state.controls);\n  const divRef = React.useRef(null);\n  const objRef = React.useRef(null);\n  const clickInfo = React.useRef(null);\n  const offsetX0 = React.useRef(0);\n  const offsetY0 = React.useRef(0);\n  const [isHovered, setIsHovered] = React.useState(false);\n  const onPointerDown = React.useCallback(e => {\n    if (annotations) {\n      divRef.current.innerText = `${translation.current[(axis + 1) % 3].toFixed(2)}, ${translation.current[(axis + 2) % 3].toFixed(2)}`;\n      divRef.current.style.display = 'block';\n    }\n\n    e.stopPropagation();\n    const clickPoint = e.point.clone();\n    const origin = new THREE.Vector3().setFromMatrixPosition(objRef.current.matrixWorld);\n    const e1 = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 0).normalize();\n    const e2 = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 1).normalize();\n    const normal = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 2).normalize();\n    const plane = new THREE.Plane().setFromNormalAndCoplanarPoint(normal, origin);\n    clickInfo.current = {\n      clickPoint,\n      e1,\n      e2,\n      plane\n    };\n    offsetX0.current = translation.current[(axis + 1) % 3];\n    offsetY0.current = translation.current[(axis + 2) % 3];\n    onDragStart({\n      component: 'Slider',\n      axis,\n      origin,\n      directions: [e1, e2, normal]\n    });\n    camControls && (camControls.enabled = false); // @ts-ignore\n\n    e.target.setPointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragStart, axis]);\n  const onPointerMove = React.useCallback(e => {\n    e.stopPropagation();\n    if (!isHovered) setIsHovered(true);\n\n    if (clickInfo.current) {\n      const {\n        clickPoint,\n        e1,\n        e2,\n        plane\n      } = clickInfo.current;\n      const [minX, maxX] = (translationLimits == null ? void 0 : translationLimits[(axis + 1) % 3]) || [undefined, undefined];\n      const [minY, maxY] = (translationLimits == null ? void 0 : translationLimits[(axis + 2) % 3]) || [undefined, undefined];\n      ray.copy(e.ray);\n      ray.intersectPlane(plane, intersection);\n      ray.direction.negate();\n      ray.intersectPlane(plane, intersection);\n      intersection.sub(clickPoint);\n      let [offsetX, offsetY] = decomposeIntoBasis(e1, e2, intersection);\n      /* let offsetY = (intersection.y - (intersection.x * e1.y) / e1.x) / (e2.y - (e2.x * e1.y) / e1.x)\n      let offsetX = (intersection.x - offsetY * e2.x) / e1.x */\n\n      if (minX !== undefined) {\n        offsetX = Math.max(offsetX, minX - offsetX0.current);\n      }\n\n      if (maxX !== undefined) {\n        offsetX = Math.min(offsetX, maxX - offsetX0.current);\n      }\n\n      if (minY !== undefined) {\n        offsetY = Math.max(offsetY, minY - offsetY0.current);\n      }\n\n      if (maxY !== undefined) {\n        offsetY = Math.min(offsetY, maxY - offsetY0.current);\n      }\n\n      translation.current[(axis + 1) % 3] = offsetX0.current + offsetX;\n      translation.current[(axis + 2) % 3] = offsetY0.current + offsetY;\n\n      if (annotations) {\n        divRef.current.innerText = `${translation.current[(axis + 1) % 3].toFixed(2)}, ${translation.current[(axis + 2) % 3].toFixed(2)}`;\n      }\n\n      offsetMatrix.makeTranslation(offsetX * e1.x + offsetY * e2.x, offsetX * e1.y + offsetY * e2.y, offsetX * e1.z + offsetY * e2.z);\n      onDrag(offsetMatrix);\n    }\n  }, [annotations, onDrag, isHovered, translation, translationLimits, axis]);\n  const onPointerUp = React.useCallback(e => {\n    if (annotations) {\n      divRef.current.style.display = 'none';\n    }\n\n    e.stopPropagation();\n    clickInfo.current = null;\n    onDragEnd();\n    camControls && (camControls.enabled = true); // @ts-ignore\n\n    e.target.releasePointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragEnd]);\n  const onPointerOut = React.useCallback(e => {\n    e.stopPropagation();\n    setIsHovered(false);\n  }, []);\n  const matrixL = React.useMemo(() => {\n    const dir1N = dir1.clone().normalize();\n    const dir2N = dir2.clone().normalize();\n    return new THREE.Matrix4().makeBasis(dir1N, dir2N, dir1N.clone().cross(dir2N));\n  }, [dir1, dir2]);\n  const pos1 = fixed ? 1 / 7 : scale / 7;\n  const length = fixed ? 0.225 : scale * 0.225;\n  const color = isHovered ? hoveredColor : axisColors[axis];\n  const points = React.useMemo(() => [new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, length, 0), new THREE.Vector3(length, length, 0), new THREE.Vector3(length, 0, 0), new THREE.Vector3(0, 0, 0)], [length]);\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: objRef,\n    matrix: matrixL,\n    matrixAutoUpdate: false\n  }, annotations && /*#__PURE__*/React.createElement(Html, {\n    position: [0, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none',\n      background: '#151520',\n      color: 'white',\n      padding: '6px 8px',\n      borderRadius: 7,\n      whiteSpace: 'nowrap'\n    },\n    className: annotationsClass,\n    ref: divRef\n  })), /*#__PURE__*/React.createElement(\"group\", {\n    position: [pos1 * 1.7, pos1 * 1.7, 0]\n  }, /*#__PURE__*/React.createElement(\"mesh\", {\n    visible: true,\n    onPointerDown: onPointerDown,\n    onPointerMove: onPointerMove,\n    onPointerUp: onPointerUp,\n    onPointerOut: onPointerOut,\n    scale: length,\n    userData: userData\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    depthTest: depthTest,\n    color: color,\n    polygonOffset: true,\n    polygonOffsetFactor: -10,\n    side: THREE.DoubleSide,\n    fog: false\n  })), /*#__PURE__*/React.createElement(Line, {\n    position: [-length / 2, -length / 2, 0],\n    transparent: true,\n    depthTest: depthTest,\n    points: points,\n    lineWidth: lineWidth,\n    color: color,\n    opacity: opacity,\n    polygonOffset: true,\n    polygonOffsetFactor: -10,\n    userData: userData,\n    fog: false\n  })));\n};\n\nexport { PlaneSlider };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}