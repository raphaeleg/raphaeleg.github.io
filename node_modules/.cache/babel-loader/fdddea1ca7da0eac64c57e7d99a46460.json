{"ast":null,"code":"import _slicedToArray from \"/Users/crushedsummers/Desktop/Work/Application/portfolio22/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from 'react';\nimport { useState, useContext, useRef, useLayoutEffect, createContext } from 'react';\nimport { useFrame } from '@react-three/fiber';\nvar context = /*#__PURE__*/createContext(null);\n\nfunction PerformanceMonitor(_ref) {\n  var _ref$iterations = _ref.iterations,\n      iterations = _ref$iterations === void 0 ? 10 : _ref$iterations,\n      _ref$ms = _ref.ms,\n      ms = _ref$ms === void 0 ? 250 : _ref$ms,\n      _ref$threshold = _ref.threshold,\n      threshold = _ref$threshold === void 0 ? 0.75 : _ref$threshold,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 0.1 : _ref$step,\n      _ref$factor = _ref.factor,\n      _factor = _ref$factor === void 0 ? 0.5 : _ref$factor,\n      _ref$flipflops = _ref.flipflops,\n      flipflops = _ref$flipflops === void 0 ? Infinity : _ref$flipflops,\n      _ref$bounds = _ref.bounds,\n      bounds = _ref$bounds === void 0 ? function (refreshrate) {\n    return refreshrate > 100 ? [60, 100] : [40, 60];\n  } : _ref$bounds,\n      onIncline = _ref.onIncline,\n      onDecline = _ref.onDecline,\n      onChange = _ref.onChange,\n      onFallback = _ref.onFallback,\n      children = _ref.children;\n\n  var decimalPlacesRatio = Math.pow(10, 0);\n\n  var _useState = useState(function () {\n    return {\n      fps: 0,\n      index: 0,\n      factor: _factor,\n      flipped: 0,\n      refreshrate: 0,\n      fallback: false,\n      frames: [],\n      averages: [],\n      subscriptions: new Map(),\n      subscribe: function subscribe(ref) {\n        var key = Symbol();\n        api.subscriptions.set(key, ref.current);\n        return function () {\n          return void api.subscriptions.delete(key);\n        };\n      }\n    };\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      api = _useState2[0],\n      _ = _useState2[1];\n\n  var lastFactor = 0;\n  useFrame(function () {\n    var frames = api.frames,\n        averages = api.averages; // If the fallback has been reached do not continue running samples\n\n    if (api.fallback) return;\n\n    if (averages.length < iterations) {\n      frames.push(performance.now());\n      var msPassed = frames[frames.length - 1] - frames[0];\n\n      if (msPassed >= ms) {\n        api.fps = Math.round(frames.length / msPassed * 1000 * decimalPlacesRatio) / decimalPlacesRatio;\n        api.refreshrate = Math.max(api.refreshrate, api.fps);\n        averages[api.index++ % iterations] = api.fps;\n\n        if (averages.length === iterations) {\n          var _bounds = bounds(api.refreshrate),\n              _bounds2 = _slicedToArray(_bounds, 2),\n              lower = _bounds2[0],\n              upper = _bounds2[1];\n\n          var upperBounds = averages.filter(function (value) {\n            return value >= upper;\n          });\n          var lowerBounds = averages.filter(function (value) {\n            return value < lower;\n          }); // Trigger incline when more than -threshold- avgs exceed the upper bound\n\n          if (upperBounds.length > iterations * threshold) {\n            api.factor = Math.min(1, api.factor + step);\n            api.flipped++;\n            if (onIncline) onIncline(api);\n            api.subscriptions.forEach(function (value) {\n              return value.onIncline && value.onIncline(api);\n            });\n          } // Trigger decline when more than -threshold- avgs are below the lower bound\n\n\n          if (lowerBounds.length > iterations * threshold) {\n            api.factor = Math.max(0, api.factor - step);\n            api.flipped++;\n            if (onDecline) onDecline(api);\n            api.subscriptions.forEach(function (value) {\n              return value.onDecline && value.onDecline(api);\n            });\n          }\n\n          if (lastFactor !== api.factor) {\n            lastFactor = api.factor;\n            if (onChange) onChange(api);\n            api.subscriptions.forEach(function (value) {\n              return value.onChange && value.onChange(api);\n            });\n          }\n\n          if (api.flipped > flipflops && !api.fallback) {\n            api.fallback = true;\n            if (onFallback) onFallback(api);\n            api.subscriptions.forEach(function (value) {\n              return value.onFallback && value.onFallback(api);\n            });\n          }\n\n          api.averages = []; // Resetting the refreshrate creates more problems than it solves atm\n          // api.refreshrate = 0\n        }\n\n        api.frames = [];\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(context.Provider, {\n    value: api\n  }, children);\n}\n\nfunction usePerformanceMonitor(_ref2) {\n  var onIncline = _ref2.onIncline,\n      onDecline = _ref2.onDecline,\n      onChange = _ref2.onChange,\n      onFallback = _ref2.onFallback;\n  var api = useContext(context);\n  var ref = useRef({\n    onIncline: onIncline,\n    onDecline: onDecline,\n    onChange: onChange,\n    onFallback: onFallback\n  });\n  useLayoutEffect(function () {\n    ref.current.onIncline = onIncline;\n    ref.current.onDecline = onDecline;\n    ref.current.onChange = onChange;\n    ref.current.onFallback = onFallback;\n  }, [onIncline, onDecline, onChange, onFallback]);\n  useLayoutEffect(function () {\n    return api.subscribe(ref);\n  }, [api]);\n}\n\nexport { PerformanceMonitor, usePerformanceMonitor };","map":{"version":3,"names":["React","useState","useContext","useRef","useLayoutEffect","createContext","useFrame","context","PerformanceMonitor","iterations","ms","threshold","step","factor","_factor","flipflops","Infinity","bounds","refreshrate","onIncline","onDecline","onChange","onFallback","children","decimalPlacesRatio","Math","pow","fps","index","flipped","fallback","frames","averages","subscriptions","Map","subscribe","ref","key","Symbol","api","set","current","delete","_","lastFactor","length","push","performance","now","msPassed","round","max","lower","upper","upperBounds","filter","value","lowerBounds","min","forEach","createElement","Provider","usePerformanceMonitor"],"sources":["/Users/crushedsummers/Desktop/Work/Application/portfolio22/node_modules/@react-three/drei/core/PerformanceMonitor.js"],"sourcesContent":["import * as React from 'react';\nimport { useState, useContext, useRef, useLayoutEffect, createContext } from 'react';\nimport { useFrame } from '@react-three/fiber';\n\nconst context = /*#__PURE__*/createContext(null);\nfunction PerformanceMonitor({\n  iterations = 10,\n  ms = 250,\n  threshold = 0.75,\n  step = 0.1,\n  factor: _factor = 0.5,\n  flipflops = Infinity,\n  bounds = refreshrate => refreshrate > 100 ? [60, 100] : [40, 60],\n  onIncline,\n  onDecline,\n  onChange,\n  onFallback,\n  children\n}) {\n  const decimalPlacesRatio = Math.pow(10, 0);\n  const [api, _] = useState(() => ({\n    fps: 0,\n    index: 0,\n    factor: _factor,\n    flipped: 0,\n    refreshrate: 0,\n    fallback: false,\n    frames: [],\n    averages: [],\n    subscriptions: new Map(),\n    subscribe: ref => {\n      const key = Symbol();\n      api.subscriptions.set(key, ref.current);\n      return () => void api.subscriptions.delete(key);\n    }\n  }));\n  let lastFactor = 0;\n  useFrame(() => {\n    const {\n      frames,\n      averages\n    } = api; // If the fallback has been reached do not continue running samples\n\n    if (api.fallback) return;\n\n    if (averages.length < iterations) {\n      frames.push(performance.now());\n      const msPassed = frames[frames.length - 1] - frames[0];\n\n      if (msPassed >= ms) {\n        api.fps = Math.round(frames.length / msPassed * 1000 * decimalPlacesRatio) / decimalPlacesRatio;\n        api.refreshrate = Math.max(api.refreshrate, api.fps);\n        averages[api.index++ % iterations] = api.fps;\n\n        if (averages.length === iterations) {\n          const [lower, upper] = bounds(api.refreshrate);\n          const upperBounds = averages.filter(value => value >= upper);\n          const lowerBounds = averages.filter(value => value < lower); // Trigger incline when more than -threshold- avgs exceed the upper bound\n\n          if (upperBounds.length > iterations * threshold) {\n            api.factor = Math.min(1, api.factor + step);\n            api.flipped++;\n            if (onIncline) onIncline(api);\n            api.subscriptions.forEach(value => value.onIncline && value.onIncline(api));\n          } // Trigger decline when more than -threshold- avgs are below the lower bound\n\n\n          if (lowerBounds.length > iterations * threshold) {\n            api.factor = Math.max(0, api.factor - step);\n            api.flipped++;\n            if (onDecline) onDecline(api);\n            api.subscriptions.forEach(value => value.onDecline && value.onDecline(api));\n          }\n\n          if (lastFactor !== api.factor) {\n            lastFactor = api.factor;\n            if (onChange) onChange(api);\n            api.subscriptions.forEach(value => value.onChange && value.onChange(api));\n          }\n\n          if (api.flipped > flipflops && !api.fallback) {\n            api.fallback = true;\n            if (onFallback) onFallback(api);\n            api.subscriptions.forEach(value => value.onFallback && value.onFallback(api));\n          }\n\n          api.averages = []; // Resetting the refreshrate creates more problems than it solves atm\n          // api.refreshrate = 0\n        }\n\n        api.frames = [];\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(context.Provider, {\n    value: api\n  }, children);\n}\nfunction usePerformanceMonitor({\n  onIncline,\n  onDecline,\n  onChange,\n  onFallback\n}) {\n  const api = useContext(context);\n  const ref = useRef({\n    onIncline,\n    onDecline,\n    onChange,\n    onFallback\n  });\n  useLayoutEffect(() => {\n    ref.current.onIncline = onIncline;\n    ref.current.onDecline = onDecline;\n    ref.current.onChange = onChange;\n    ref.current.onFallback = onFallback;\n  }, [onIncline, onDecline, onChange, onFallback]);\n  useLayoutEffect(() => api.subscribe(ref), [api]);\n}\n\nexport { PerformanceMonitor, usePerformanceMonitor };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}