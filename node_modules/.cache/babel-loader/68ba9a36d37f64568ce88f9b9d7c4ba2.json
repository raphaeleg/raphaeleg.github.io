{"ast":null,"code":"import { useRef, useState, useEffect, useCallback } from 'react';\nimport Tweezer from 'tweezer.js';\n\nfunction useScrollSnap(_ref) {\n  let {\n    ref = null,\n    duration = 100,\n    delay = 50\n  } = _ref;\n  const isActiveInteractionRef = useRef(null);\n  const scrollTimeoutRef = useRef(null);\n  const currentScrollOffsetRef = useRef(null);\n  const targetScrollOffsetRef = useRef(null);\n  const animationRef = useRef(null);\n  const [scrollIndex, setScrollIndex] = useState(0);\n  const tickAnimation = useCallback(value => {\n    const scrollTopDelta = targetScrollOffsetRef.current - currentScrollOffsetRef.current;\n    const scrollTop = currentScrollOffsetRef.current + scrollTopDelta * value / 10000;\n    window.scrollTo({\n      top: scrollTop,\n      behavior: 'smooth'\n    });\n  }, []);\n  const resetAnimation = useCallback(() => {\n    currentScrollOffsetRef.current = window.pageYOffset;\n    targetScrollOffsetRef.current = 0;\n    animationRef.current = null;\n  }, []);\n  const endAnimation = useCallback(() => {\n    if (!animationRef.current) return;\n    animationRef.current.stop();\n    resetAnimation();\n  }, [resetAnimation]); // Modified from https://stackoverflow.com/a/125106\n\n  const getElementsInView = useCallback(() => {\n    const elements = [].slice.call(ref.current.children); // Need to convert HTMLCollection to native JS Array\n\n    return elements.filter(element => {\n      let top = element.offsetTop;\n      const height = element.offsetHeight;\n\n      while (element.offsetParent) {\n        element = element.offsetParent;\n        top += element.offsetTop;\n      }\n\n      return top < window.pageYOffset + window.innerHeight && top + height > window.pageYOffset;\n    });\n  }, [ref]);\n  const getTargetScrollOffset = useCallback(element => {\n    let top = element.offsetTop;\n\n    while (element.offsetParent) {\n      element = element.offsetParent;\n      top += element.offsetTop;\n    }\n\n    return top;\n  }, []);\n  const snapToTarget = useCallback(target => {\n    if (animationRef.current) {\n      animationRef.current.stop();\n    }\n\n    const elements = [].slice.call(ref.current.children);\n    elements.forEach((element, index) => {\n      if (element.isSameNode(target)) {\n        setScrollIndex(index);\n      }\n    });\n    targetScrollOffsetRef.current = getTargetScrollOffset(target);\n    animationRef.current = new Tweezer({\n      start: 0,\n      end: 10000,\n      duration: duration\n    });\n    animationRef.current.on('tick', tickAnimation);\n    animationRef.current.on('done', resetAnimation);\n    animationRef.current.begin();\n  }, [ref, duration, getTargetScrollOffset, tickAnimation, resetAnimation]);\n  const findSnapTarget = useCallback(() => {\n    const deltaY = window.pageYOffset - currentScrollOffsetRef.current;\n    currentScrollOffsetRef.current = window.pageYOffset;\n    const elementsInView = getElementsInView();\n    if (!elementsInView || elementsInView.length < 2) return;\n\n    if (deltaY > 0) {\n      snapToTarget(elementsInView[1]);\n    } else {\n      snapToTarget(elementsInView[0]);\n    }\n  }, [getElementsInView, snapToTarget]);\n  const onInteractionStart = useCallback(() => {\n    endAnimation();\n    isActiveInteractionRef.current = true;\n  }, [endAnimation]);\n  const onInteractionEnd = useCallback(() => {\n    isActiveInteractionRef.current = false;\n    findSnapTarget();\n  }, [findSnapTarget]);\n  const onInteraction = useCallback(() => {\n    endAnimation();\n    if (scrollTimeoutRef) clearTimeout(scrollTimeoutRef.current);\n    if (isActiveInteractionRef.current || animationRef.current) return;\n    scrollTimeoutRef.current = setTimeout(findSnapTarget, 500);\n  }, [endAnimation, findSnapTarget]);\n  useEffect(() => {\n    if (ref) {\n      resetAnimation();\n      document.addEventListener('keydown', onInteractionStart, {\n        passive: true\n      });\n      document.addEventListener('keyup', onInteractionEnd, {\n        passive: true\n      });\n      document.addEventListener('touchstart', onInteractionStart, {\n        passive: true\n      });\n      document.addEventListener('touchend', onInteractionEnd, {\n        passive: true\n      });\n      document.addEventListener('wheel', onInteraction, {\n        passive: true\n      });\n      findSnapTarget();\n      return () => {\n        endAnimation();\n        document.removeEventListener('keydown', onInteractionStart, {\n          passive: true\n        });\n        document.removeEventListener('keyup', onInteractionEnd, {\n          passive: true\n        });\n        document.removeEventListener('touchstart', onInteractionStart, {\n          passive: true\n        });\n        document.removeEventListener('touchend', onInteractionEnd, {\n          passive: true\n        });\n        document.removeEventListener('wheel', onInteraction, {\n          passive: true\n        });\n      };\n    }\n  }, [ref, resetAnimation, findSnapTarget, endAnimation, onInteractionStart, onInteractionEnd, onInteraction]);\n  return scrollIndex;\n}\n\nexport default useScrollSnap;","map":{"version":3,"names":["useRef","useState","useEffect","useCallback","Tweezer","useScrollSnap","ref","duration","delay","isActiveInteractionRef","scrollTimeoutRef","currentScrollOffsetRef","targetScrollOffsetRef","animationRef","scrollIndex","setScrollIndex","tickAnimation","value","scrollTopDelta","current","scrollTop","window","scrollTo","top","behavior","resetAnimation","pageYOffset","endAnimation","stop","getElementsInView","elements","slice","call","children","filter","element","offsetTop","height","offsetHeight","offsetParent","innerHeight","getTargetScrollOffset","snapToTarget","target","forEach","index","isSameNode","start","end","on","begin","findSnapTarget","deltaY","elementsInView","length","onInteractionStart","onInteractionEnd","onInteraction","clearTimeout","setTimeout","document","addEventListener","passive","removeEventListener"],"sources":["/Users/crushedsummers/Desktop/Work/Application/portfolio22/node_modules/react-use-scroll-snap/index.js"],"sourcesContent":["import { useRef, useState, useEffect, useCallback } from 'react';\nimport Tweezer from 'tweezer.js';\n\nfunction useScrollSnap({ ref = null, duration = 100, delay = 50 }) {\n    const isActiveInteractionRef = useRef(null);\n    const scrollTimeoutRef = useRef(null);\n    const currentScrollOffsetRef = useRef(null);\n    const targetScrollOffsetRef = useRef(null);\n    const animationRef = useRef(null);\n    const [scrollIndex, setScrollIndex] = useState(0);\n\n    const tickAnimation = useCallback((value) => {\n        const scrollTopDelta = targetScrollOffsetRef.current - currentScrollOffsetRef.current;\n        const scrollTop = currentScrollOffsetRef.current + (scrollTopDelta * value / 10000);\n        window.scrollTo({ top: scrollTop, behavior: 'smooth' });\n    }, []);\n\n    const resetAnimation = useCallback(() => {\n        currentScrollOffsetRef.current = window.pageYOffset;\n        targetScrollOffsetRef.current = 0;\n        animationRef.current = null;\n    }, []);\n\n    const endAnimation = useCallback(() => {\n        if (!animationRef.current) return;\n        animationRef.current.stop();\n        resetAnimation();\n    }, [resetAnimation]);\n\n    // Modified from https://stackoverflow.com/a/125106\n    const getElementsInView = useCallback(() => {\n        const elements = [].slice.call(ref.current.children); // Need to convert HTMLCollection to native JS Array\n        return elements.filter((element) => {\n            let top = element.offsetTop;\n            const height = element.offsetHeight;\n            while (element.offsetParent) {\n                element = element.offsetParent;\n                top += element.offsetTop;\n            }\n            return top < (window.pageYOffset + window.innerHeight) && (top + height) > window.pageYOffset;\n        });\n    }, [ref]);\n\n    const getTargetScrollOffset = useCallback((element) => {\n        let top = element.offsetTop;\n        while (element.offsetParent) {\n            element = element.offsetParent;\n            top += element.offsetTop;\n        }\n        return top;\n    }, []);\n\n    const snapToTarget = useCallback((target) => {\n        if (animationRef.current) {\n            animationRef.current.stop();\n        }\n\n        const elements = [].slice.call(ref.current.children);\n        elements.forEach((element, index) => {\n            if (element.isSameNode(target)) {\n                setScrollIndex(index);\n            }\n        });\n\n        targetScrollOffsetRef.current = getTargetScrollOffset(target);\n        animationRef.current = new Tweezer({\n            start: 0,\n            end: 10000,\n            duration: duration,\n        });\n\n        animationRef.current.on('tick', tickAnimation);\n        animationRef.current.on('done', resetAnimation);\n\n        animationRef.current.begin();\n    }, [ref, duration, getTargetScrollOffset, tickAnimation, resetAnimation]);\n\n    const findSnapTarget = useCallback(() => {\n        const deltaY = window.pageYOffset - currentScrollOffsetRef.current;\n        currentScrollOffsetRef.current = window.pageYOffset;\n\n        const elementsInView = getElementsInView();\n        if (!elementsInView || elementsInView.length < 2) return;\n\n        if (deltaY > 0) {\n            snapToTarget(elementsInView[1]);\n        } else {\n            snapToTarget(elementsInView[0]);\n        }\n    }, [getElementsInView, snapToTarget]);\n\n    const onInteractionStart = useCallback(() => {\n        endAnimation();\n        isActiveInteractionRef.current = true;\n    }, [endAnimation]);\n\n    const onInteractionEnd = useCallback(() => {\n        isActiveInteractionRef.current = false;\n        findSnapTarget();\n    }, [findSnapTarget]);\n\n    const onInteraction = useCallback(() => {\n        endAnimation();\n        if (scrollTimeoutRef) clearTimeout(scrollTimeoutRef.current);\n        if (isActiveInteractionRef.current || animationRef.current) return;\n\n        scrollTimeoutRef.current = setTimeout(findSnapTarget, 500);\n    }, [endAnimation, findSnapTarget]);\n\n    useEffect(() => {\n        if (ref) {\n            resetAnimation();\n\n            document.addEventListener('keydown', onInteractionStart, { passive: true });\n            document.addEventListener('keyup', onInteractionEnd, { passive: true });\n            document.addEventListener('touchstart', onInteractionStart, { passive: true });\n            document.addEventListener('touchend', onInteractionEnd, { passive: true });\n            document.addEventListener('wheel', onInteraction, { passive: true });\n\n            findSnapTarget();\n\n            return () => {\n                endAnimation();\n\n                document.removeEventListener('keydown', onInteractionStart, { passive: true });\n                document.removeEventListener('keyup', onInteractionEnd, { passive: true });\n                document.removeEventListener('touchstart', onInteractionStart, { passive: true });\n                document.removeEventListener('touchend', onInteractionEnd, { passive: true });\n                document.removeEventListener('wheel', onInteraction, { passive: true });\n            }\n        }\n    }, [\n        ref,\n        resetAnimation,\n        findSnapTarget,\n        endAnimation,\n        onInteractionStart,\n        onInteractionEnd,\n        onInteraction\n    ]);\n\n    return scrollIndex;\n}\n\nexport default useScrollSnap;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}