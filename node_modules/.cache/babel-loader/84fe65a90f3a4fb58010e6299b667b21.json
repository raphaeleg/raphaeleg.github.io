{"ast":null,"code":"import _slicedToArray from \"/Users/crushedsummers/Desktop/Work/Application/portfolio22/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from 'react';\nimport { Object3D, AnimationMixer } from 'three';\nimport { useFrame } from '@react-three/fiber';\n\nfunction useAnimations(clips, root) {\n  var ref = React.useRef();\n\n  var _React$useState = React.useState(function () {\n    return root ? root instanceof Object3D ? {\n      current: root\n    } : root : ref;\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      actualRef = _React$useState2[0]; // eslint-disable-next-line prettier/prettier\n\n\n  var _React$useState3 = React.useState(function () {\n    return new AnimationMixer(undefined);\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 1),\n      mixer = _React$useState4[0];\n\n  React.useLayoutEffect(function () {\n    return void (mixer._root = actualRef.current);\n  }, [mixer, root]);\n  var lazyActions = React.useRef({});\n\n  var _React$useState5 = React.useState(function () {\n    var actions = {};\n    clips.forEach(function (clip) {\n      return Object.defineProperty(actions, clip.name, {\n        enumerable: true,\n        get: function get() {\n          if (actualRef.current) {\n            return lazyActions.current[clip.name] || (lazyActions.current[clip.name] = mixer.clipAction(clip, actualRef.current));\n          }\n        },\n        configurable: true\n      });\n    });\n    return {\n      ref: actualRef,\n      clips: clips,\n      actions: actions,\n      names: clips.map(function (c) {\n        return c.name;\n      }),\n      mixer: mixer\n    };\n  }),\n      _React$useState6 = _slicedToArray(_React$useState5, 1),\n      api = _React$useState6[0];\n\n  useFrame(function (state, delta) {\n    return mixer.update(delta);\n  });\n  React.useEffect(function () {\n    var currentRoot = actualRef.current;\n    return function () {\n      // Clean up only when clips change, wipe out lazy actions and uncache clips\n      lazyActions.current = {};\n      Object.values(api.actions).forEach(function (action) {\n        if (currentRoot) {\n          mixer.uncacheAction(action, currentRoot);\n        }\n      });\n    };\n  }, [clips]);\n  React.useEffect(function () {\n    return function () {\n      mixer.stopAllAction();\n    };\n  }, [mixer]);\n  return api;\n}\n\nexport { useAnimations };","map":{"version":3,"names":["React","Object3D","AnimationMixer","useFrame","useAnimations","clips","root","ref","useRef","useState","current","actualRef","undefined","mixer","useLayoutEffect","_root","lazyActions","actions","forEach","clip","Object","defineProperty","name","enumerable","get","clipAction","configurable","names","map","c","api","state","delta","update","useEffect","currentRoot","values","action","uncacheAction","stopAllAction"],"sources":["/Users/crushedsummers/Desktop/Work/Application/portfolio22/node_modules/@react-three/drei/core/useAnimations.js"],"sourcesContent":["import * as React from 'react';\nimport { Object3D, AnimationMixer } from 'three';\nimport { useFrame } from '@react-three/fiber';\n\nfunction useAnimations(clips, root) {\n  const ref = React.useRef();\n  const [actualRef] = React.useState(() => root ? root instanceof Object3D ? {\n    current: root\n  } : root : ref); // eslint-disable-next-line prettier/prettier\n\n  const [mixer] = React.useState(() => new AnimationMixer(undefined));\n  React.useLayoutEffect(() => void (mixer._root = actualRef.current), [mixer, root]);\n  const lazyActions = React.useRef({});\n  const [api] = React.useState(() => {\n    const actions = {};\n    clips.forEach(clip => Object.defineProperty(actions, clip.name, {\n      enumerable: true,\n\n      get() {\n        if (actualRef.current) {\n          return lazyActions.current[clip.name] || (lazyActions.current[clip.name] = mixer.clipAction(clip, actualRef.current));\n        }\n      },\n\n      configurable: true\n    }));\n    return {\n      ref: actualRef,\n      clips,\n      actions,\n      names: clips.map(c => c.name),\n      mixer\n    };\n  });\n  useFrame((state, delta) => mixer.update(delta));\n  React.useEffect(() => {\n    const currentRoot = actualRef.current;\n    return () => {\n      // Clean up only when clips change, wipe out lazy actions and uncache clips\n      lazyActions.current = {};\n      Object.values(api.actions).forEach(action => {\n        if (currentRoot) {\n          mixer.uncacheAction(action, currentRoot);\n        }\n      });\n    };\n  }, [clips]);\n  React.useEffect(() => {\n    return () => {\n      mixer.stopAllAction();\n    };\n  }, [mixer]);\n  return api;\n}\n\nexport { useAnimations };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}