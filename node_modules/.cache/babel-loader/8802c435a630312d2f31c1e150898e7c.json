{"ast":null,"code":"import _objectWithoutProperties from \"/Users/crushedsummers/Desktop/Work/Application/portfolio22/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _slicedToArray from \"/Users/crushedsummers/Desktop/Work/Application/portfolio22/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _excluded = [\"distance\", \"alphaTest\", \"map\", \"shader\", \"width\", \"height\", \"scale\", \"children\"],\n    _excluded2 = [\"distance\", \"alphaTest\", \"map\", \"width\", \"height\", \"scale\", \"children\"],\n    _excluded3 = [\"opacity\", \"radiusTop\", \"radiusBottom\", \"depthBuffer\", \"color\", \"distance\", \"angle\", \"attenuation\", \"anglePower\", \"volumetric\", \"debug\", \"children\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector3, CylinderGeometry, Matrix4, WebGLRenderTarget, RGBAFormat, LinearEncoding, ShaderMaterial, DoubleSide, RepeatWrapping } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { FullScreenQuad } from 'three-stdlib';\nimport mergeRefs from 'react-merge-refs';\nimport { SpotLightMaterial } from '../materials/SpotLightMaterial.js';\nimport SpotlightShadowShader from '../helpers/glsl/DefaultSpotlightShadowShadows.glsl.js';\n\nvar isSpotLight = function isSpotLight(child) {\n  return child == null ? void 0 : child.isSpotLight;\n};\n\nfunction VolumetricMesh(_ref) {\n  var _ref$opacity = _ref.opacity,\n      opacity = _ref$opacity === void 0 ? 1 : _ref$opacity,\n      radiusTop = _ref.radiusTop,\n      radiusBottom = _ref.radiusBottom,\n      depthBuffer = _ref.depthBuffer,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'white' : _ref$color,\n      _ref$distance = _ref.distance,\n      distance = _ref$distance === void 0 ? 5 : _ref$distance,\n      _ref$angle = _ref.angle,\n      angle = _ref$angle === void 0 ? 0.15 : _ref$angle,\n      _ref$attenuation = _ref.attenuation,\n      attenuation = _ref$attenuation === void 0 ? 5 : _ref$attenuation,\n      _ref$anglePower = _ref.anglePower,\n      anglePower = _ref$anglePower === void 0 ? 5 : _ref$anglePower;\n  var mesh = React.useRef(null);\n  var size = useThree(function (state) {\n    return state.size;\n  });\n  var camera = useThree(function (state) {\n    return state.camera;\n  });\n  var dpr = useThree(function (state) {\n    return state.viewport.dpr;\n  });\n\n  var _React$useState = React.useState(function () {\n    return new SpotLightMaterial();\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      material = _React$useState2[0];\n\n  var _React$useState3 = React.useState(function () {\n    return new Vector3();\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 1),\n      vec = _React$useState4[0];\n\n  radiusTop = radiusTop === undefined ? 0.1 : radiusTop;\n  radiusBottom = radiusBottom === undefined ? angle * 7 : radiusBottom;\n  useFrame(function () {\n    material.uniforms.spotPosition.value.copy(mesh.current.getWorldPosition(vec));\n    mesh.current.lookAt(mesh.current.parent.target.getWorldPosition(vec));\n  });\n  var geom = React.useMemo(function () {\n    var geometry = new CylinderGeometry(radiusTop, radiusBottom, distance, 128, 64, true);\n    geometry.applyMatrix4(new Matrix4().makeTranslation(0, -distance / 2, 0));\n    geometry.applyMatrix4(new Matrix4().makeRotationX(-Math.PI / 2));\n    return geometry;\n  }, [distance, radiusTop, radiusBottom]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: mesh,\n    geometry: geom,\n    raycast: function raycast() {\n      return null;\n    }\n  }, /*#__PURE__*/React.createElement(\"primitive\", {\n    object: material,\n    attach: \"material\",\n    \"uniforms-opacity-value\": opacity,\n    \"uniforms-lightColor-value\": color,\n    \"uniforms-attenuation-value\": attenuation,\n    \"uniforms-anglePower-value\": anglePower,\n    \"uniforms-depth-value\": depthBuffer,\n    \"uniforms-cameraNear-value\": camera.near,\n    \"uniforms-cameraFar-value\": camera.far,\n    \"uniforms-resolution-value\": depthBuffer ? [size.width * dpr, size.height * dpr] : [0, 0]\n  })));\n}\n\nfunction useCommon(spotlight, mesh, width, height, distance) {\n  var _React$useState5 = React.useState(function () {\n    return [new Vector3(), new Vector3()];\n  }),\n      _React$useState6 = _slicedToArray(_React$useState5, 1),\n      _React$useState6$ = _slicedToArray(_React$useState6[0], 2),\n      pos = _React$useState6$[0],\n      dir = _React$useState6$[1];\n\n  React.useLayoutEffect(function () {\n    if (isSpotLight(spotlight.current)) {\n      spotlight.current.shadow.mapSize.set(width, height);\n      spotlight.current.shadow.needsUpdate = true;\n    } else {\n      throw new Error('SpotlightShadow must be a child of a SpotLight');\n    }\n  }, [spotlight, width, height]);\n  useFrame(function () {\n    if (!spotlight.current) return;\n    var A = spotlight.current.position;\n    var B = spotlight.current.target.position;\n    dir.copy(B).sub(A);\n    var len = dir.length();\n    dir.normalize().multiplyScalar(len * distance);\n    pos.copy(A).add(dir);\n    mesh.current.position.copy(pos);\n    mesh.current.lookAt(spotlight.current.target.position);\n  });\n}\n\nfunction SpotlightShadowWithShader(_ref2) {\n  var _ref2$distance = _ref2.distance,\n      distance = _ref2$distance === void 0 ? 0.4 : _ref2$distance,\n      _ref2$alphaTest = _ref2.alphaTest,\n      alphaTest = _ref2$alphaTest === void 0 ? 0.5 : _ref2$alphaTest,\n      map = _ref2.map,\n      _ref2$shader = _ref2.shader,\n      shader = _ref2$shader === void 0 ? SpotlightShadowShader : _ref2$shader,\n      _ref2$width = _ref2.width,\n      width = _ref2$width === void 0 ? 512 : _ref2$width,\n      _ref2$height = _ref2.height,\n      height = _ref2$height === void 0 ? 512 : _ref2$height,\n      _ref2$scale = _ref2.scale,\n      scale = _ref2$scale === void 0 ? 1 : _ref2$scale,\n      children = _ref2.children,\n      rest = _objectWithoutProperties(_ref2, _excluded);\n\n  var mesh = React.useRef(null);\n  var spotlight = rest.spotlightRef;\n  var debug = rest.debug;\n  useCommon(spotlight, mesh, width, height, distance);\n  var renderTarget = React.useMemo(function () {\n    return new WebGLRenderTarget(width, height, {\n      format: RGBAFormat,\n      encoding: LinearEncoding,\n      stencilBuffer: false // depthTexture: null!\n\n    });\n  }, [width, height]);\n  var uniforms = React.useRef({\n    uShadowMap: {\n      value: map\n    },\n    uTime: {\n      value: 0\n    }\n  });\n  React.useEffect(function () {\n    return void (uniforms.current.uShadowMap.value = map);\n  }, [map]);\n  var fsQuad = React.useMemo(function () {\n    return new FullScreenQuad(new ShaderMaterial({\n      uniforms: uniforms.current,\n      vertexShader:\n      /* glsl */\n      \"\\n          varying vec2 vUv;\\n\\n          void main() {\\n            vUv = uv;\\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n          }\\n          \",\n      fragmentShader: shader\n    }));\n  }, [shader]);\n  React.useEffect(function () {\n    return function () {\n      fsQuad.material.dispose();\n      fsQuad.dispose();\n    };\n  }, [fsQuad]);\n  React.useEffect(function () {\n    return function () {\n      return renderTarget.dispose();\n    };\n  }, [renderTarget]);\n  useFrame(function (_ref3, dt) {\n    var gl = _ref3.gl;\n    uniforms.current.uTime.value += dt;\n    gl.setRenderTarget(renderTarget);\n    fsQuad.render(gl);\n    gl.setRenderTarget(null);\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: mesh,\n    scale: scale,\n    castShadow: true\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    side: DoubleSide,\n    alphaTest: alphaTest,\n    alphaMap: renderTarget.texture,\n    \"alphaMap-wrapS\": RepeatWrapping,\n    \"alphaMap-wrapT\": RepeatWrapping,\n    opacity: debug ? 1 : 0\n  }, children)));\n}\n\nfunction SpotlightShadowWithoutShader(_ref4) {\n  var _ref4$distance = _ref4.distance,\n      distance = _ref4$distance === void 0 ? 0.4 : _ref4$distance,\n      _ref4$alphaTest = _ref4.alphaTest,\n      alphaTest = _ref4$alphaTest === void 0 ? 0.5 : _ref4$alphaTest,\n      map = _ref4.map,\n      _ref4$width = _ref4.width,\n      width = _ref4$width === void 0 ? 512 : _ref4$width,\n      _ref4$height = _ref4.height,\n      height = _ref4$height === void 0 ? 512 : _ref4$height,\n      scale = _ref4.scale,\n      children = _ref4.children,\n      rest = _objectWithoutProperties(_ref4, _excluded2);\n\n  var mesh = React.useRef(null);\n  var spotlight = rest.spotlightRef;\n  var debug = rest.debug;\n  useCommon(spotlight, mesh, width, height, distance);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: mesh,\n    scale: scale,\n    castShadow: true\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    side: DoubleSide,\n    alphaTest: alphaTest,\n    alphaMap: map,\n    \"alphaMap-wrapS\": RepeatWrapping,\n    \"alphaMap-wrapT\": RepeatWrapping,\n    opacity: debug ? 1 : 0\n  }, children)));\n}\n\nfunction SpotLightShadow(props) {\n  if (props.shader) return /*#__PURE__*/React.createElement(SpotlightShadowWithShader, props);\n  return /*#__PURE__*/React.createElement(SpotlightShadowWithoutShader, props);\n}\n\nvar SpotLight = /*#__PURE__*/React.forwardRef(function (_ref5, ref) {\n  var _ref5$opacity = _ref5.opacity,\n      opacity = _ref5$opacity === void 0 ? 1 : _ref5$opacity,\n      radiusTop = _ref5.radiusTop,\n      radiusBottom = _ref5.radiusBottom,\n      depthBuffer = _ref5.depthBuffer,\n      _ref5$color = _ref5.color,\n      color = _ref5$color === void 0 ? 'white' : _ref5$color,\n      _ref5$distance = _ref5.distance,\n      distance = _ref5$distance === void 0 ? 5 : _ref5$distance,\n      _ref5$angle = _ref5.angle,\n      angle = _ref5$angle === void 0 ? 0.15 : _ref5$angle,\n      _ref5$attenuation = _ref5.attenuation,\n      attenuation = _ref5$attenuation === void 0 ? 5 : _ref5$attenuation,\n      _ref5$anglePower = _ref5.anglePower,\n      anglePower = _ref5$anglePower === void 0 ? 5 : _ref5$anglePower,\n      _ref5$volumetric = _ref5.volumetric,\n      volumetric = _ref5$volumetric === void 0 ? true : _ref5$volumetric,\n      _ref5$debug = _ref5.debug,\n      debug = _ref5$debug === void 0 ? false : _ref5$debug,\n      children = _ref5.children,\n      props = _objectWithoutProperties(_ref5, _excluded3);\n\n  var spotlight = React.useRef(null);\n  return /*#__PURE__*/React.createElement(\"group\", null, debug && spotlight.current && /*#__PURE__*/React.createElement(\"spotLightHelper\", {\n    args: [spotlight.current]\n  }), /*#__PURE__*/React.createElement(\"spotLight\", _extends({\n    ref: mergeRefs([ref, spotlight]),\n    angle: angle,\n    color: color,\n    distance: distance,\n    castShadow: true\n  }, props), volumetric && /*#__PURE__*/React.createElement(VolumetricMesh, {\n    debug: debug,\n    opacity: opacity,\n    radiusTop: radiusTop,\n    radiusBottom: radiusBottom,\n    depthBuffer: depthBuffer,\n    color: color,\n    distance: distance,\n    angle: angle,\n    attenuation: attenuation,\n    anglePower: anglePower\n  })), children && /*#__PURE__*/React.cloneElement(children, {\n    spotlightRef: spotlight,\n    debug: debug\n  }));\n});\nexport { SpotLight, SpotLightShadow };","map":{"version":3,"names":["_extends","React","Vector3","CylinderGeometry","Matrix4","WebGLRenderTarget","RGBAFormat","LinearEncoding","ShaderMaterial","DoubleSide","RepeatWrapping","useThree","useFrame","FullScreenQuad","mergeRefs","SpotLightMaterial","SpotlightShadowShader","isSpotLight","child","VolumetricMesh","opacity","radiusTop","radiusBottom","depthBuffer","color","distance","angle","attenuation","anglePower","mesh","useRef","size","state","camera","dpr","viewport","useState","material","vec","undefined","uniforms","spotPosition","value","copy","current","getWorldPosition","lookAt","parent","target","geom","useMemo","geometry","applyMatrix4","makeTranslation","makeRotationX","Math","PI","createElement","Fragment","ref","raycast","object","attach","near","far","width","height","useCommon","spotlight","pos","dir","useLayoutEffect","shadow","mapSize","set","needsUpdate","Error","A","position","B","sub","len","length","normalize","multiplyScalar","add","SpotlightShadowWithShader","alphaTest","map","shader","scale","children","rest","spotlightRef","debug","renderTarget","format","encoding","stencilBuffer","uShadowMap","uTime","useEffect","fsQuad","vertexShader","fragmentShader","dispose","dt","gl","setRenderTarget","render","castShadow","transparent","side","alphaMap","texture","SpotlightShadowWithoutShader","SpotLightShadow","props","SpotLight","forwardRef","volumetric","args","cloneElement"],"sources":["/Users/crushedsummers/Desktop/Work/Application/portfolio22/node_modules/@react-three/drei/core/SpotLight.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector3, CylinderGeometry, Matrix4, WebGLRenderTarget, RGBAFormat, LinearEncoding, ShaderMaterial, DoubleSide, RepeatWrapping } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { FullScreenQuad } from 'three-stdlib';\nimport mergeRefs from 'react-merge-refs';\nimport { SpotLightMaterial } from '../materials/SpotLightMaterial.js';\nimport SpotlightShadowShader from '../helpers/glsl/DefaultSpotlightShadowShadows.glsl.js';\n\nconst isSpotLight = child => {\n  return child == null ? void 0 : child.isSpotLight;\n};\n\nfunction VolumetricMesh({\n  opacity = 1,\n  radiusTop,\n  radiusBottom,\n  depthBuffer,\n  color = 'white',\n  distance = 5,\n  angle = 0.15,\n  attenuation = 5,\n  anglePower = 5\n}) {\n  const mesh = React.useRef(null);\n  const size = useThree(state => state.size);\n  const camera = useThree(state => state.camera);\n  const dpr = useThree(state => state.viewport.dpr);\n  const [material] = React.useState(() => new SpotLightMaterial());\n  const [vec] = React.useState(() => new Vector3());\n  radiusTop = radiusTop === undefined ? 0.1 : radiusTop;\n  radiusBottom = radiusBottom === undefined ? angle * 7 : radiusBottom;\n  useFrame(() => {\n    material.uniforms.spotPosition.value.copy(mesh.current.getWorldPosition(vec));\n    mesh.current.lookAt(mesh.current.parent.target.getWorldPosition(vec));\n  });\n  const geom = React.useMemo(() => {\n    const geometry = new CylinderGeometry(radiusTop, radiusBottom, distance, 128, 64, true);\n    geometry.applyMatrix4(new Matrix4().makeTranslation(0, -distance / 2, 0));\n    geometry.applyMatrix4(new Matrix4().makeRotationX(-Math.PI / 2));\n    return geometry;\n  }, [distance, radiusTop, radiusBottom]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: mesh,\n    geometry: geom,\n    raycast: () => null\n  }, /*#__PURE__*/React.createElement(\"primitive\", {\n    object: material,\n    attach: \"material\",\n    \"uniforms-opacity-value\": opacity,\n    \"uniforms-lightColor-value\": color,\n    \"uniforms-attenuation-value\": attenuation,\n    \"uniforms-anglePower-value\": anglePower,\n    \"uniforms-depth-value\": depthBuffer,\n    \"uniforms-cameraNear-value\": camera.near,\n    \"uniforms-cameraFar-value\": camera.far,\n    \"uniforms-resolution-value\": depthBuffer ? [size.width * dpr, size.height * dpr] : [0, 0]\n  })));\n}\n\nfunction useCommon(spotlight, mesh, width, height, distance) {\n  const [[pos, dir]] = React.useState(() => [new Vector3(), new Vector3()]);\n  React.useLayoutEffect(() => {\n    if (isSpotLight(spotlight.current)) {\n      spotlight.current.shadow.mapSize.set(width, height);\n      spotlight.current.shadow.needsUpdate = true;\n    } else {\n      throw new Error('SpotlightShadow must be a child of a SpotLight');\n    }\n  }, [spotlight, width, height]);\n  useFrame(() => {\n    if (!spotlight.current) return;\n    const A = spotlight.current.position;\n    const B = spotlight.current.target.position;\n    dir.copy(B).sub(A);\n    var len = dir.length();\n    dir.normalize().multiplyScalar(len * distance);\n    pos.copy(A).add(dir);\n    mesh.current.position.copy(pos);\n    mesh.current.lookAt(spotlight.current.target.position);\n  });\n}\n\nfunction SpotlightShadowWithShader({\n  distance = 0.4,\n  alphaTest = 0.5,\n  map,\n  shader = SpotlightShadowShader,\n  width = 512,\n  height = 512,\n  scale = 1,\n  children,\n  ...rest\n}) {\n  const mesh = React.useRef(null);\n  const spotlight = rest.spotlightRef;\n  const debug = rest.debug;\n  useCommon(spotlight, mesh, width, height, distance);\n  const renderTarget = React.useMemo(() => new WebGLRenderTarget(width, height, {\n    format: RGBAFormat,\n    encoding: LinearEncoding,\n    stencilBuffer: false // depthTexture: null!\n\n  }), [width, height]);\n  const uniforms = React.useRef({\n    uShadowMap: {\n      value: map\n    },\n    uTime: {\n      value: 0\n    }\n  });\n  React.useEffect(() => void (uniforms.current.uShadowMap.value = map), [map]);\n  const fsQuad = React.useMemo(() => new FullScreenQuad(new ShaderMaterial({\n    uniforms: uniforms.current,\n    vertexShader:\n    /* glsl */\n    `\n          varying vec2 vUv;\n\n          void main() {\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n          }\n          `,\n    fragmentShader: shader\n  })), [shader]);\n  React.useEffect(() => () => {\n    fsQuad.material.dispose();\n    fsQuad.dispose();\n  }, [fsQuad]);\n  React.useEffect(() => () => renderTarget.dispose(), [renderTarget]);\n  useFrame(({\n    gl\n  }, dt) => {\n    uniforms.current.uTime.value += dt;\n    gl.setRenderTarget(renderTarget);\n    fsQuad.render(gl);\n    gl.setRenderTarget(null);\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: mesh,\n    scale: scale,\n    castShadow: true\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    side: DoubleSide,\n    alphaTest: alphaTest,\n    alphaMap: renderTarget.texture,\n    \"alphaMap-wrapS\": RepeatWrapping,\n    \"alphaMap-wrapT\": RepeatWrapping,\n    opacity: debug ? 1 : 0\n  }, children)));\n}\n\nfunction SpotlightShadowWithoutShader({\n  distance = 0.4,\n  alphaTest = 0.5,\n  map,\n  width = 512,\n  height = 512,\n  scale,\n  children,\n  ...rest\n}) {\n  const mesh = React.useRef(null);\n  const spotlight = rest.spotlightRef;\n  const debug = rest.debug;\n  useCommon(spotlight, mesh, width, height, distance);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: mesh,\n    scale: scale,\n    castShadow: true\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    side: DoubleSide,\n    alphaTest: alphaTest,\n    alphaMap: map,\n    \"alphaMap-wrapS\": RepeatWrapping,\n    \"alphaMap-wrapT\": RepeatWrapping,\n    opacity: debug ? 1 : 0\n  }, children)));\n}\n\nfunction SpotLightShadow(props) {\n  if (props.shader) return /*#__PURE__*/React.createElement(SpotlightShadowWithShader, props);\n  return /*#__PURE__*/React.createElement(SpotlightShadowWithoutShader, props);\n}\nconst SpotLight = /*#__PURE__*/React.forwardRef(({\n  // Volumetric\n  opacity = 1,\n  radiusTop,\n  radiusBottom,\n  depthBuffer,\n  color = 'white',\n  distance = 5,\n  angle = 0.15,\n  attenuation = 5,\n  anglePower = 5,\n  volumetric = true,\n  debug = false,\n  children,\n  ...props\n}, ref) => {\n  const spotlight = React.useRef(null);\n  return /*#__PURE__*/React.createElement(\"group\", null, debug && spotlight.current && /*#__PURE__*/React.createElement(\"spotLightHelper\", {\n    args: [spotlight.current]\n  }), /*#__PURE__*/React.createElement(\"spotLight\", _extends({\n    ref: mergeRefs([ref, spotlight]),\n    angle: angle,\n    color: color,\n    distance: distance,\n    castShadow: true\n  }, props), volumetric && /*#__PURE__*/React.createElement(VolumetricMesh, {\n    debug: debug,\n    opacity: opacity,\n    radiusTop: radiusTop,\n    radiusBottom: radiusBottom,\n    depthBuffer: depthBuffer,\n    color: color,\n    distance: distance,\n    angle: angle,\n    attenuation: attenuation,\n    anglePower: anglePower\n  })), children && /*#__PURE__*/React.cloneElement(children, {\n    spotlightRef: spotlight,\n    debug: debug\n  }));\n});\n\nexport { SpotLight, SpotLightShadow };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}