{"ast":null,"code":"import * as React from 'react';\nimport { Object3D, AnimationMixer } from 'three';\nimport { useFrame } from '@react-three/fiber';\n\nfunction useAnimations(clips, root) {\n  const ref = React.useRef();\n  const [actualRef] = React.useState(() => root ? root instanceof Object3D ? {\n    current: root\n  } : root : ref); // eslint-disable-next-line prettier/prettier\n\n  const [mixer] = React.useState(() => new AnimationMixer(undefined));\n  React.useLayoutEffect(() => void (mixer._root = actualRef.current), [mixer, root]);\n  const lazyActions = React.useRef({});\n  const [api] = React.useState(() => {\n    const actions = {};\n    clips.forEach(clip => Object.defineProperty(actions, clip.name, {\n      enumerable: true,\n\n      get() {\n        if (actualRef.current) {\n          return lazyActions.current[clip.name] || (lazyActions.current[clip.name] = mixer.clipAction(clip, actualRef.current));\n        }\n      },\n\n      configurable: true\n    }));\n    return {\n      ref: actualRef,\n      clips,\n      actions,\n      names: clips.map(c => c.name),\n      mixer\n    };\n  });\n  useFrame((state, delta) => mixer.update(delta));\n  React.useEffect(() => {\n    const currentRoot = actualRef.current;\n    return () => {\n      // Clean up only when clips change, wipe out lazy actions and uncache clips\n      lazyActions.current = {};\n      Object.values(api.actions).forEach(action => {\n        if (currentRoot) {\n          mixer.uncacheAction(action, currentRoot);\n        }\n      });\n    };\n  }, [clips]);\n  React.useEffect(() => {\n    return () => {\n      mixer.stopAllAction();\n    };\n  }, [mixer]);\n  return api;\n}\n\nexport { useAnimations };","map":{"version":3,"names":["React","Object3D","AnimationMixer","useFrame","useAnimations","clips","root","ref","useRef","actualRef","useState","current","mixer","undefined","useLayoutEffect","_root","lazyActions","api","actions","forEach","clip","Object","defineProperty","name","enumerable","get","clipAction","configurable","names","map","c","state","delta","update","useEffect","currentRoot","values","action","uncacheAction","stopAllAction"],"sources":["/Users/crushedsummers/Desktop/Work/Application/portfolio22/node_modules/@react-three/drei/core/useAnimations.js"],"sourcesContent":["import * as React from 'react';\nimport { Object3D, AnimationMixer } from 'three';\nimport { useFrame } from '@react-three/fiber';\n\nfunction useAnimations(clips, root) {\n  const ref = React.useRef();\n  const [actualRef] = React.useState(() => root ? root instanceof Object3D ? {\n    current: root\n  } : root : ref); // eslint-disable-next-line prettier/prettier\n\n  const [mixer] = React.useState(() => new AnimationMixer(undefined));\n  React.useLayoutEffect(() => void (mixer._root = actualRef.current), [mixer, root]);\n  const lazyActions = React.useRef({});\n  const [api] = React.useState(() => {\n    const actions = {};\n    clips.forEach(clip => Object.defineProperty(actions, clip.name, {\n      enumerable: true,\n\n      get() {\n        if (actualRef.current) {\n          return lazyActions.current[clip.name] || (lazyActions.current[clip.name] = mixer.clipAction(clip, actualRef.current));\n        }\n      },\n\n      configurable: true\n    }));\n    return {\n      ref: actualRef,\n      clips,\n      actions,\n      names: clips.map(c => c.name),\n      mixer\n    };\n  });\n  useFrame((state, delta) => mixer.update(delta));\n  React.useEffect(() => {\n    const currentRoot = actualRef.current;\n    return () => {\n      // Clean up only when clips change, wipe out lazy actions and uncache clips\n      lazyActions.current = {};\n      Object.values(api.actions).forEach(action => {\n        if (currentRoot) {\n          mixer.uncacheAction(action, currentRoot);\n        }\n      });\n    };\n  }, [clips]);\n  React.useEffect(() => {\n    return () => {\n      mixer.stopAllAction();\n    };\n  }, [mixer]);\n  return api;\n}\n\nexport { useAnimations };\n"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,EAAmBC,cAAnB,QAAyC,OAAzC;AACA,SAASC,QAAT,QAAyB,oBAAzB;;AAEA,SAASC,aAAT,CAAuBC,KAAvB,EAA8BC,IAA9B,EAAoC;EAClC,MAAMC,GAAG,GAAGP,KAAK,CAACQ,MAAN,EAAZ;EACA,MAAM,CAACC,SAAD,IAAcT,KAAK,CAACU,QAAN,CAAe,MAAMJ,IAAI,GAAGA,IAAI,YAAYL,QAAhB,GAA2B;IACzEU,OAAO,EAAEL;EADgE,CAA3B,GAE5CA,IAFyC,GAElCC,GAFS,CAApB,CAFkC,CAIjB;;EAEjB,MAAM,CAACK,KAAD,IAAUZ,KAAK,CAACU,QAAN,CAAe,MAAM,IAAIR,cAAJ,CAAmBW,SAAnB,CAArB,CAAhB;EACAb,KAAK,CAACc,eAAN,CAAsB,MAAM,MAAMF,KAAK,CAACG,KAAN,GAAcN,SAAS,CAACE,OAA9B,CAA5B,EAAoE,CAACC,KAAD,EAAQN,IAAR,CAApE;EACA,MAAMU,WAAW,GAAGhB,KAAK,CAACQ,MAAN,CAAa,EAAb,CAApB;EACA,MAAM,CAACS,GAAD,IAAQjB,KAAK,CAACU,QAAN,CAAe,MAAM;IACjC,MAAMQ,OAAO,GAAG,EAAhB;IACAb,KAAK,CAACc,OAAN,CAAcC,IAAI,IAAIC,MAAM,CAACC,cAAP,CAAsBJ,OAAtB,EAA+BE,IAAI,CAACG,IAApC,EAA0C;MAC9DC,UAAU,EAAE,IADkD;;MAG9DC,GAAG,GAAG;QACJ,IAAIhB,SAAS,CAACE,OAAd,EAAuB;UACrB,OAAOK,WAAW,CAACL,OAAZ,CAAoBS,IAAI,CAACG,IAAzB,MAAmCP,WAAW,CAACL,OAAZ,CAAoBS,IAAI,CAACG,IAAzB,IAAiCX,KAAK,CAACc,UAAN,CAAiBN,IAAjB,EAAuBX,SAAS,CAACE,OAAjC,CAApE,CAAP;QACD;MACF,CAP6D;;MAS9DgB,YAAY,EAAE;IATgD,CAA1C,CAAtB;IAWA,OAAO;MACLpB,GAAG,EAAEE,SADA;MAELJ,KAFK;MAGLa,OAHK;MAILU,KAAK,EAAEvB,KAAK,CAACwB,GAAN,CAAUC,CAAC,IAAIA,CAAC,CAACP,IAAjB,CAJF;MAKLX;IALK,CAAP;EAOD,CApBa,CAAd;EAqBAT,QAAQ,CAAC,CAAC4B,KAAD,EAAQC,KAAR,KAAkBpB,KAAK,CAACqB,MAAN,CAAaD,KAAb,CAAnB,CAAR;EACAhC,KAAK,CAACkC,SAAN,CAAgB,MAAM;IACpB,MAAMC,WAAW,GAAG1B,SAAS,CAACE,OAA9B;IACA,OAAO,MAAM;MACX;MACAK,WAAW,CAACL,OAAZ,GAAsB,EAAtB;MACAU,MAAM,CAACe,MAAP,CAAcnB,GAAG,CAACC,OAAlB,EAA2BC,OAA3B,CAAmCkB,MAAM,IAAI;QAC3C,IAAIF,WAAJ,EAAiB;UACfvB,KAAK,CAAC0B,aAAN,CAAoBD,MAApB,EAA4BF,WAA5B;QACD;MACF,CAJD;IAKD,CARD;EASD,CAXD,EAWG,CAAC9B,KAAD,CAXH;EAYAL,KAAK,CAACkC,SAAN,CAAgB,MAAM;IACpB,OAAO,MAAM;MACXtB,KAAK,CAAC2B,aAAN;IACD,CAFD;EAGD,CAJD,EAIG,CAAC3B,KAAD,CAJH;EAKA,OAAOK,GAAP;AACD;;AAED,SAASb,aAAT"},"metadata":{},"sourceType":"module"}