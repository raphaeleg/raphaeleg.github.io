{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { applyProps } from '@react-three/fiber';\nimport { DecalGeometry } from 'three-stdlib';\n\nfunction isArray(vec) {\n  return Array.isArray(vec);\n}\n\nfunction vecToArray() {\n  let vec = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0, 0, 0];\n\n  if (isArray(vec)) {\n    return vec;\n  } else if (vec instanceof THREE.Vector3 || vec instanceof THREE.Euler) {\n    return [vec.x, vec.y, vec.z];\n  } else {\n    return [vec, vec, vec];\n  }\n}\n\nconst Decal = /*#__PURE__*/React.forwardRef(function Decal(_ref, forwardRef) {\n  let {\n    debug,\n    mesh,\n    children,\n    position,\n    rotation,\n    scale,\n    ...props\n  } = _ref;\n  const ref = React.useRef(null);\n  React.useImperativeHandle(forwardRef, () => ref.current);\n  const helper = React.useRef(null);\n  React.useLayoutEffect(() => {\n    const parent = (mesh == null ? void 0 : mesh.current) || ref.current.parent;\n    const target = ref.current;\n\n    if (!(parent instanceof THREE.Mesh)) {\n      throw new Error('Decal must have a Mesh as parent or specify its \"mesh\" prop');\n    }\n\n    const state = {\n      position: new THREE.Vector3(),\n      rotation: new THREE.Euler(),\n      scale: new THREE.Vector3(1, 1, 1)\n    };\n\n    if (parent) {\n      applyProps(state, {\n        position,\n        scale\n      }); // Zero out the parents matrix world for this operation\n\n      const matrixWorld = parent.matrixWorld.clone();\n      parent.matrixWorld.identity();\n\n      if (!rotation || typeof rotation === 'number') {\n        const o = new THREE.Object3D();\n        o.position.copy(state.position);\n        o.lookAt(parent.position);\n        if (typeof rotation === 'number') o.rotateZ(rotation);\n        applyProps(state, {\n          rotation: o.rotation\n        });\n      } else {\n        applyProps(state, {\n          rotation\n        });\n      }\n\n      target.geometry = new DecalGeometry(parent, state.position, state.rotation, state.scale);\n      if (helper.current) applyProps(helper.current, state); // Reset parents matix-world\n\n      parent.matrixWorld = matrixWorld;\n      return () => {\n        target.geometry.dispose();\n      };\n    }\n  }, [mesh, ...vecToArray(position), ...vecToArray(scale), ...vecToArray(rotation)]);\n  return /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: ref\n  }, children || /*#__PURE__*/React.createElement(\"meshStandardMaterial\", _extends({\n    transparent: true,\n    polygonOffset: true,\n    polygonOffsetFactor: -10\n  }, props)), debug && /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: helper\n  }, /*#__PURE__*/React.createElement(\"boxGeometry\", null), /*#__PURE__*/React.createElement(\"meshNormalMaterial\", {\n    wireframe: true\n  }), /*#__PURE__*/React.createElement(\"axesHelper\", null)));\n});\nexport { Decal };","map":{"version":3,"names":["_extends","React","THREE","applyProps","DecalGeometry","isArray","vec","Array","vecToArray","Vector3","Euler","x","y","z","Decal","forwardRef","debug","mesh","children","position","rotation","scale","props","ref","useRef","useImperativeHandle","current","helper","useLayoutEffect","parent","target","Mesh","Error","state","matrixWorld","clone","identity","o","Object3D","copy","lookAt","rotateZ","geometry","dispose","createElement","transparent","polygonOffset","polygonOffsetFactor","wireframe"],"sources":["/Users/crushedsummers/Desktop/Work/Application/portfolio22/node_modules/@react-three/drei/core/Decal.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { applyProps } from '@react-three/fiber';\nimport { DecalGeometry } from 'three-stdlib';\n\nfunction isArray(vec) {\n  return Array.isArray(vec);\n}\n\nfunction vecToArray(vec = [0, 0, 0]) {\n  if (isArray(vec)) {\n    return vec;\n  } else if (vec instanceof THREE.Vector3 || vec instanceof THREE.Euler) {\n    return [vec.x, vec.y, vec.z];\n  } else {\n    return [vec, vec, vec];\n  }\n}\n\nconst Decal = /*#__PURE__*/React.forwardRef(function Decal({\n  debug,\n  mesh,\n  children,\n  position,\n  rotation,\n  scale,\n  ...props\n}, forwardRef) {\n  const ref = React.useRef(null);\n  React.useImperativeHandle(forwardRef, () => ref.current);\n  const helper = React.useRef(null);\n  React.useLayoutEffect(() => {\n    const parent = (mesh == null ? void 0 : mesh.current) || ref.current.parent;\n    const target = ref.current;\n\n    if (!(parent instanceof THREE.Mesh)) {\n      throw new Error('Decal must have a Mesh as parent or specify its \"mesh\" prop');\n    }\n\n    const state = {\n      position: new THREE.Vector3(),\n      rotation: new THREE.Euler(),\n      scale: new THREE.Vector3(1, 1, 1)\n    };\n\n    if (parent) {\n      applyProps(state, {\n        position,\n        scale\n      }); // Zero out the parents matrix world for this operation\n\n      const matrixWorld = parent.matrixWorld.clone();\n      parent.matrixWorld.identity();\n\n      if (!rotation || typeof rotation === 'number') {\n        const o = new THREE.Object3D();\n        o.position.copy(state.position);\n        o.lookAt(parent.position);\n        if (typeof rotation === 'number') o.rotateZ(rotation);\n        applyProps(state, {\n          rotation: o.rotation\n        });\n      } else {\n        applyProps(state, {\n          rotation\n        });\n      }\n\n      target.geometry = new DecalGeometry(parent, state.position, state.rotation, state.scale);\n      if (helper.current) applyProps(helper.current, state); // Reset parents matix-world\n\n      parent.matrixWorld = matrixWorld;\n      return () => {\n        target.geometry.dispose();\n      };\n    }\n  }, [mesh, ...vecToArray(position), ...vecToArray(scale), ...vecToArray(rotation)]);\n  return /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: ref\n  }, children || /*#__PURE__*/React.createElement(\"meshStandardMaterial\", _extends({\n    transparent: true,\n    polygonOffset: true,\n    polygonOffsetFactor: -10\n  }, props)), debug && /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: helper\n  }, /*#__PURE__*/React.createElement(\"boxGeometry\", null), /*#__PURE__*/React.createElement(\"meshNormalMaterial\", {\n    wireframe: true\n  }), /*#__PURE__*/React.createElement(\"axesHelper\", null)));\n});\n\nexport { Decal };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}