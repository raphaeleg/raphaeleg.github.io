{"ast":null,"code":"import _classCallCheck from \"/Users/crushedsummers/Documents/GitHub/raphaeleg.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/crushedsummers/Documents/GitHub/raphaeleg.github.io/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/Users/crushedsummers/Documents/GitHub/raphaeleg.github.io/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/crushedsummers/Documents/GitHub/raphaeleg.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/crushedsummers/Documents/GitHub/raphaeleg.github.io/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/crushedsummers/Documents/GitHub/raphaeleg.github.io/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Object3D, Vector3, Matrix4 } from 'three';\n\nvar CSS2DObject = /*#__PURE__*/function (_Object3D) {\n  _inherits(CSS2DObject, _Object3D);\n\n  var _super = _createSuper(CSS2DObject);\n\n  function CSS2DObject() {\n    var _this2;\n\n    var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document.createElement('div');\n\n    _classCallCheck(this, CSS2DObject);\n\n    _this2 = _super.call(this);\n    _this2.isCSS2DObject = true;\n    _this2.element = element;\n    _this2.element.style.position = 'absolute';\n    _this2.element.style.userSelect = 'none';\n\n    _this2.element.setAttribute('draggable', false);\n\n    _this2.addEventListener('removed', function () {\n      this.traverse(function (object) {\n        if (object.element instanceof Element && object.element.parentNode !== null) {\n          object.element.parentNode.removeChild(object.element);\n        }\n      });\n    });\n\n    return _this2;\n  }\n\n  _createClass(CSS2DObject, [{\n    key: \"copy\",\n    value: function copy(source, recursive) {\n      _get(_getPrototypeOf(CSS2DObject.prototype), \"copy\", this).call(this, source, recursive);\n\n      this.element = source.element.cloneNode(true);\n      return this;\n    }\n  }]);\n\n  return CSS2DObject;\n}(Object3D);\n\nvar _vector = /*#__PURE__*/new Vector3();\n\nvar _viewMatrix = /*#__PURE__*/new Matrix4();\n\nvar _viewProjectionMatrix = /*#__PURE__*/new Matrix4();\n\nvar _a = /*#__PURE__*/new Vector3();\n\nvar _b = /*#__PURE__*/new Vector3();\n\nvar CSS2DRenderer = /*#__PURE__*/_createClass(function CSS2DRenderer() {\n  var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  _classCallCheck(this, CSS2DRenderer);\n\n  var _this = this;\n\n  var _width, _height;\n\n  var _widthHalf, _heightHalf;\n\n  var cache = {\n    objects: new WeakMap()\n  };\n  var domElement = parameters.element !== undefined ? parameters.element : document.createElement('div');\n  domElement.style.overflow = 'hidden';\n  this.domElement = domElement;\n\n  this.getSize = function () {\n    return {\n      width: _width,\n      height: _height\n    };\n  };\n\n  this.render = function (scene, camera) {\n    if (scene.matrixWorldAutoUpdate === true || scene.autoUpdate === true) scene.updateMatrixWorld();\n\n    if (camera.parent === null && (camera.matrixWorldAutoUpdate == null || camera.matrixWorldAutoUpdate === true)) {\n      camera.updateMatrixWorld();\n    }\n\n    _viewMatrix.copy(camera.matrixWorldInverse);\n\n    _viewProjectionMatrix.multiplyMatrices(camera.projectionMatrix, _viewMatrix);\n\n    renderObject(scene, scene, camera);\n    zOrder(scene);\n  };\n\n  this.setSize = function (width, height) {\n    _width = width;\n    _height = height;\n    _widthHalf = _width / 2;\n    _heightHalf = _height / 2;\n    domElement.style.width = width + 'px';\n    domElement.style.height = height + 'px';\n  };\n\n  function renderObject(object, scene, camera) {\n    if (object.isCSS2DObject) {\n      _vector.setFromMatrixPosition(object.matrixWorld);\n\n      _vector.applyMatrix4(_viewProjectionMatrix);\n\n      var visible = object.visible === true && _vector.z >= -1 && _vector.z <= 1 && object.layers.test(camera.layers) === true;\n      object.element.style.display = visible === true ? '' : 'none';\n\n      if (visible === true) {\n        object.onBeforeRender(_this, scene, camera);\n        var element = object.element;\n        element.style.transform = 'translate(-50%,-50%) translate(' + (_vector.x * _widthHalf + _widthHalf) + 'px,' + (-_vector.y * _heightHalf + _heightHalf) + 'px)';\n\n        if (element.parentNode !== domElement) {\n          domElement.appendChild(element);\n        }\n\n        object.onAfterRender(_this, scene, camera);\n      }\n\n      var objectData = {\n        distanceToCameraSquared: getDistanceToSquared(camera, object)\n      };\n      cache.objects.set(object, objectData);\n    }\n\n    for (var i = 0, l = object.children.length; i < l; i++) {\n      renderObject(object.children[i], scene, camera);\n    }\n  }\n\n  function getDistanceToSquared(object1, object2) {\n    _a.setFromMatrixPosition(object1.matrixWorld);\n\n    _b.setFromMatrixPosition(object2.matrixWorld);\n\n    return _a.distanceToSquared(_b);\n  }\n\n  function filterAndFlatten(scene) {\n    var result = [];\n    scene.traverse(function (object) {\n      if (object.isCSS2DObject) result.push(object);\n    });\n    return result;\n  }\n\n  function zOrder(scene) {\n    var sorted = filterAndFlatten(scene).sort(function (a, b) {\n      if (a.renderOrder !== b.renderOrder) {\n        return b.renderOrder - a.renderOrder;\n      }\n\n      var distanceA = cache.objects.get(a).distanceToCameraSquared;\n      var distanceB = cache.objects.get(b).distanceToCameraSquared;\n      return distanceA - distanceB;\n    });\n    var zMax = sorted.length;\n\n    for (var i = 0, l = sorted.length; i < l; i++) {\n      sorted[i].element.style.zIndex = zMax - i;\n    }\n  }\n});\n\nexport { CSS2DObject, CSS2DRenderer };","map":{"version":3,"names":["Object3D","Vector3","Matrix4","CSS2DObject","element","document","createElement","isCSS2DObject","style","position","userSelect","setAttribute","addEventListener","traverse","object","Element","parentNode","removeChild","source","recursive","cloneNode","_vector","_viewMatrix","_viewProjectionMatrix","_a","_b","CSS2DRenderer","parameters","_this","_width","_height","_widthHalf","_heightHalf","cache","objects","WeakMap","domElement","undefined","overflow","getSize","width","height","render","scene","camera","matrixWorldAutoUpdate","autoUpdate","updateMatrixWorld","parent","copy","matrixWorldInverse","multiplyMatrices","projectionMatrix","renderObject","zOrder","setSize","setFromMatrixPosition","matrixWorld","applyMatrix4","visible","z","layers","test","display","onBeforeRender","transform","x","y","appendChild","onAfterRender","objectData","distanceToCameraSquared","getDistanceToSquared","set","i","l","children","length","object1","object2","distanceToSquared","filterAndFlatten","result","push","sorted","sort","a","b","renderOrder","distanceA","get","distanceB","zMax","zIndex"],"sources":["/Users/crushedsummers/Documents/GitHub/raphaeleg.github.io/node_modules/three-stdlib/renderers/CSS2DRenderer.js"],"sourcesContent":["import { Object3D, Vector3, Matrix4 } from 'three';\n\nclass CSS2DObject extends Object3D {\n  constructor(element = document.createElement('div')) {\n    super();\n    this.isCSS2DObject = true;\n    this.element = element;\n    this.element.style.position = 'absolute';\n    this.element.style.userSelect = 'none';\n    this.element.setAttribute('draggable', false);\n    this.addEventListener('removed', function () {\n      this.traverse(function (object) {\n        if (object.element instanceof Element && object.element.parentNode !== null) {\n          object.element.parentNode.removeChild(object.element);\n        }\n      });\n    });\n  }\n\n  copy(source, recursive) {\n    super.copy(source, recursive);\n    this.element = source.element.cloneNode(true);\n    return this;\n  }\n\n}\n\nconst _vector = /*#__PURE__*/new Vector3();\n\nconst _viewMatrix = /*#__PURE__*/new Matrix4();\n\nconst _viewProjectionMatrix = /*#__PURE__*/new Matrix4();\n\nconst _a = /*#__PURE__*/new Vector3();\n\nconst _b = /*#__PURE__*/new Vector3();\n\nclass CSS2DRenderer {\n  constructor(parameters = {}) {\n    const _this = this;\n\n    let _width, _height;\n\n    let _widthHalf, _heightHalf;\n\n    const cache = {\n      objects: new WeakMap()\n    };\n    const domElement = parameters.element !== undefined ? parameters.element : document.createElement('div');\n    domElement.style.overflow = 'hidden';\n    this.domElement = domElement;\n\n    this.getSize = function () {\n      return {\n        width: _width,\n        height: _height\n      };\n    };\n\n    this.render = function (scene, camera) {\n      if (scene.matrixWorldAutoUpdate === true || scene.autoUpdate === true) scene.updateMatrixWorld();\n\n      if (camera.parent === null && (camera.matrixWorldAutoUpdate == null || camera.matrixWorldAutoUpdate === true)) {\n        camera.updateMatrixWorld();\n      }\n\n      _viewMatrix.copy(camera.matrixWorldInverse);\n\n      _viewProjectionMatrix.multiplyMatrices(camera.projectionMatrix, _viewMatrix);\n\n      renderObject(scene, scene, camera);\n      zOrder(scene);\n    };\n\n    this.setSize = function (width, height) {\n      _width = width;\n      _height = height;\n      _widthHalf = _width / 2;\n      _heightHalf = _height / 2;\n      domElement.style.width = width + 'px';\n      domElement.style.height = height + 'px';\n    };\n\n    function renderObject(object, scene, camera) {\n      if (object.isCSS2DObject) {\n        _vector.setFromMatrixPosition(object.matrixWorld);\n\n        _vector.applyMatrix4(_viewProjectionMatrix);\n\n        const visible = object.visible === true && _vector.z >= -1 && _vector.z <= 1 && object.layers.test(camera.layers) === true;\n        object.element.style.display = visible === true ? '' : 'none';\n\n        if (visible === true) {\n          object.onBeforeRender(_this, scene, camera);\n          const element = object.element;\n          element.style.transform = 'translate(-50%,-50%) translate(' + (_vector.x * _widthHalf + _widthHalf) + 'px,' + (-_vector.y * _heightHalf + _heightHalf) + 'px)';\n\n          if (element.parentNode !== domElement) {\n            domElement.appendChild(element);\n          }\n\n          object.onAfterRender(_this, scene, camera);\n        }\n\n        const objectData = {\n          distanceToCameraSquared: getDistanceToSquared(camera, object)\n        };\n        cache.objects.set(object, objectData);\n      }\n\n      for (let i = 0, l = object.children.length; i < l; i++) {\n        renderObject(object.children[i], scene, camera);\n      }\n    }\n\n    function getDistanceToSquared(object1, object2) {\n      _a.setFromMatrixPosition(object1.matrixWorld);\n\n      _b.setFromMatrixPosition(object2.matrixWorld);\n\n      return _a.distanceToSquared(_b);\n    }\n\n    function filterAndFlatten(scene) {\n      const result = [];\n      scene.traverse(function (object) {\n        if (object.isCSS2DObject) result.push(object);\n      });\n      return result;\n    }\n\n    function zOrder(scene) {\n      const sorted = filterAndFlatten(scene).sort(function (a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n          return b.renderOrder - a.renderOrder;\n        }\n\n        const distanceA = cache.objects.get(a).distanceToCameraSquared;\n        const distanceB = cache.objects.get(b).distanceToCameraSquared;\n        return distanceA - distanceB;\n      });\n      const zMax = sorted.length;\n\n      for (let i = 0, l = sorted.length; i < l; i++) {\n        sorted[i].element.style.zIndex = zMax - i;\n      }\n    }\n  }\n\n}\n\nexport { CSS2DObject, CSS2DRenderer };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}